<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orange3 ë°ì´í„° ë¶„ì„ ë³´ê³ ì„œ</title>
    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .editable-container .prose { cursor: text; min-height: 80px; padding: 0.75rem; border-radius: 0.375rem; border: 1px solid transparent; transition: background-color 0.2s; }
        .editable-container .prose:hover { background-color: #f8fafc; border-color: #e2e8f0; }
        
        /* Orange Theme */
        .theme-orange { color: #f97316; }
        .bg-orange-600 { background-color: #ea580c; }
        .hover\:bg-orange-700:hover { background-color: #c2410c; }
        .border-orange-500 { border-color: #f97316; }
        .focus\:ring-orange-200:focus { --tw-ring-color: #fed7aa; }
        .ring-orange-500 { --tw-ring-color: #f97316; }
        .border-orange-500 { border-color: #f97316; }
        .report-section h3, 
        .report-section .editable-container, 
        .report-section .screenshot-wrapper {
            break-inside: avoid; /* í˜ì´ì§€ ë‚˜ëˆ” ë°©ì§€ */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <main class="max-w-4xl mx-auto">
        <header class="text-center mb-10 no-print">
            <div class="flex justify-center items-center gap-3 mb-4">
                 <div class="w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share-2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>
                 </div>
                <h1 class="text-4xl font-extrabold text-slate-800">Orange3 ë°ì´í„° ë¶„ì„ ë³´ê³ ì„œ</h1>
            </div>
            <p class="text-slate-500">ê° í•­ëª©ì— ë‚´ìš©ì„ ì…ë ¥í•˜ì—¬ ë³´ê³ ì„œë¥¼ ì™„ì„±í•˜ì„¸ìš”.</p>
        </header>

        <div id="report-content" class="bg-white rounded-lg shadow-md">
            <section class="report-section p-8 break-inside-avoid">
                <div class="space-y-4">
                    <div>
                        <label for="project-title" class="text-lg font-semibold text-slate-700">ğŸš€ í”„ë¡œì íŠ¸ ì œëª©</label>
                        <input type="text" id="project-title" placeholder="ì˜ˆ: ë¶“ê½ƒ(Iris) í’ˆì¢… ë¶„ë¥˜ ëª¨ë¸ ê°œë°œ" class="savable w-full border border-slate-300 rounded-md p-2 mt-2 focus:outline-none focus:ring-2 focus:ring-orange-200">
                    </div>
                     <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div>
                            <label for="student-id" class="text-lg font-semibold text-slate-700">ğŸ”¢ í•™ë²ˆ</label>
                            <input type="text" id="student-id" placeholder="ì˜ˆ: 30101" class="savable w-full border border-slate-300 rounded-md p-2 mt-2 focus:outline-none focus:ring-2 focus:ring-orange-200">
                        </div>
                        <div>
                            <label for="student-name" class="text-lg font-semibold text-slate-700">ğŸ† ì´ë¦„</label>
                            <input type="text" id="student-name" placeholder="ì˜ˆ: í™ê¸¸ë™" class="savable w-full border border-slate-300 rounded-md p-2 mt-2 focus:outline-none focus:ring-2 focus:ring-orange-200">
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">ì œì‘ ë™ê¸°</h2>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 hidden" id="motivation" placeholder="ì´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê²Œ ëœ ì´ìœ ë¥¼ ìì‹ ì˜ ì§„ë¡œë‚˜ ê´€ì‹¬ì‚¬, ë³´ê°•í•˜ê³  ì‹¶ì€ êµê³¼ëª©ê³¼ ê´€ë ¨ì§€ì–´ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">ë§Œë“¤ë©´ì„œ ì–´ë ¤ì› ë˜ ì ê³¼ ê·¹ë³µ ë°©ì‹</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ˜¥ ë§Œë“¤ë©´ì„œ ì–´ë ¤ì› ë˜ ì </h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 hidden" id="difficulty" placeholder="ë°ì´í„° ì „ì²˜ë¦¬ ê³¼ì •, ì ì ˆí•œ ìœ„ì ¯ ì„ íƒ, ëª¨ë¸ ì„±ëŠ¥ í•´ì„ ë“± í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ê²ªì—ˆë˜ ê¸°ìˆ ì , ê°œë…ì  ì–´ë ¤ì›€ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„œìˆ í•˜ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ’ª ê·¹ë³µí•œ ë°©ë²•</h3>
                 <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 hidden" id="solution" placeholder="ì–´ë ¤ì›€ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì°¸ê³ í•œ ìë£Œ(ê³µì‹ ë¬¸ì„œ, ë¸”ë¡œê·¸ ë“±), ì‹œë„í–ˆë˜ ë°©ë²•, ê·¸ë¦¬ê³  ê·¸ ê³¼ì •ì—ì„œ ë¬´ì—‡ì„ ë°°ì› ëŠ”ì§€ ìƒì„¸íˆ ì‘ì„±í•´ì£¼ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">í”„ë¡œì íŠ¸ ì‚¬ìš© ê°œë…</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ“Š ì‚¬ìš© ë°ì´í„° ì„¤ëª…</h3>
                 <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="data-desc" placeholder="ì‚¬ìš©í•œ ë°ì´í„°ì…‹ì˜ ì¶œì²˜ì™€ ì£¼ì œë¥¼ ì„¤ëª…í•˜ê³ , ì „ì²´ ë°ì´í„° ìˆ˜, í›ˆë ¨/í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¶„í•  ë¹„ìœ¨, ì‚¬ìš©í•œ ë°ì´í„° í›ˆë ¨ ë°©ì‹(ì˜ˆ: Cross Validation k=5) ë“±ì„ ê¸°ì…í•˜ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                
                <h4 class="text-md font-semibold mt-6 mb-2 text-slate-600">ìˆ˜ì¹˜ ë°ì´í„°ì˜ ê²½ìš° (ë³€ìˆ˜ ì„¤ëª…)</h4>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="data-numeric" placeholder="Target, Feature, Meta, Skipìœ¼ë¡œ ì„¤ì •í•œ ê° ë³€ìˆ˜ë“¤ì˜ ì´ë¦„, ì¢…ë¥˜(ìˆ˜ì¹˜í˜•/ë²”ì£¼í˜•), ê·¸ë¦¬ê³  ë°ì´í„° ë‚´ì—ì„œì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>

                <h4 class="text-md font-semibold mt-6 mb-2 text-slate-600">ì‚¬ì§„ ë¶„ë¥˜ ë°ì´í„° ê²½ìš° (ì¹´í…Œê³ ë¦¬ ì˜ˆì‹œ)</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                    <div>
                        <input type="text" id="category1-name" class="savable w-full border border-slate-300 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-orange-200" placeholder="ì¹´í…Œê³ ë¦¬ 1 ì´ë¦„ (ì˜ˆ: ê°•ì•„ì§€)">
                        <div class="screenshot-wrapper"><label for="screenshot-input-1" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100"><img id="screenshot-preview-1" class="hidden w-full h-full object-contain rounded-lg"><div id="screenshot-placeholder-1" class="text-center text-slate-500 p-4"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>ì´ë¯¸ì§€ ì²¨ë¶€</div></label><input type="file" accept="image/*" class="hidden" id="screenshot-input-1"></div>
                    </div>
                    <div>
                        <input type="text" id="category2-name" class="savable w-full border border-slate-300 rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-orange-200" placeholder="ì¹´í…Œê³ ë¦¬ 2 ì´ë¦„ (ì˜ˆ: ê³ ì–‘ì´)">
                        <div class="screenshot-wrapper"><label for="screenshot-input-2" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100"><img id="screenshot-preview-2" class="hidden w-full h-full object-contain rounded-lg"><div id="screenshot-placeholder-2" class="text-center text-slate-500 p-4"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>ì´ë¯¸ì§€ ì²¨ë¶€</div></label><input type="file" accept="image/*" class="hidden" id="screenshot-input-2"></div>
                    </div>
                </div>

                <h3 class="text-lg font-semibold mt-6 text-slate-700">âš™ï¸ Orange3 ì›Œí¬í”Œë¡œìš°</h3>
                <div class="mt-4 screenshot-wrapper">
                    <label for="screenshot-input-3" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100">
                        <img id="screenshot-preview-3" class="hidden w-full h-full object-contain rounded-lg">
                        <div id="screenshot-placeholder-3" class="text-center text-slate-500 p-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                            ì›Œí¬í”Œë¡œìš° ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€
                        </div>
                    </label>
                    <input type="file" accept="image/*" class="hidden" id="screenshot-input-3">
                </div>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="workflow-desc" placeholder="ì—…ë¡œë“œí•œ ì›Œí¬í”Œë¡œìš°ì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”. (ë°ì´í„°ì˜ íë¦„, ì‚¬ìš©ëœ ì£¼ìš” ìœ„ì ¯ì˜ ì—­í•  ë“±)"></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                 <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">í•™ìŠµ ê²°ê³¼ ë¶„ì„</h2>
                 <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ“ˆ Test & Score / í˜¼ë™ í–‰ë ¬</h3>
                 <div class="mt-4 screenshot-wrapper">
                    <label for="screenshot-input-4" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100">
                        <img id="screenshot-preview-4" class="hidden w-full h-full object-contain rounded-lg">
                        <div id="screenshot-placeholder-4" class="text-center text-slate-500 p-4">
                           <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                            í•™ìŠµ ê²°ê³¼ ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€
                        </div>
                    </label>
                    <input type="file" accept="image/*" class="hidden" id="screenshot-input-4">
                </div>
                 <h3 class="text-lg font-semibold mt-6 text-slate-700">ê²°ê³¼ í•´ì„</h3>
                 <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="evaluation-interpretation" placeholder="ì—…ë¡œë“œí•œ í•™ìŠµ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ êµ¬ì²´ì ì¸ ìˆ˜ì¹˜ì™€ í•¨ê»˜ í•´ì„í•´ì£¼ì„¸ìš”. ì–´ë–¤ ëª¨ë¸ì´ ê°€ì¥ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë³´ì˜€ìœ¼ë©°, ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ëŠ”ì§€ ì„œìˆ í•©ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">í”„ë¡œì íŠ¸ ê´€ë ¨ êµê³¼ ì§€ì‹ íƒêµ¬</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ”¬ ì‚¬ìš©ëœ ë°ì´í„° ê´€ë ¨ ê°œë…</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="knowledge-data" placeholder="ë°ì´í„°ê°€ ë‹¤ë£¨ëŠ” ì£¼ì œì™€ ê´€ë ¨ëœ êµê³¼(ìˆ˜í•™, ê³¼í•™, ì‚¬íšŒ ë“±) ì§€ì‹ì„ ì‹¬í™” íƒêµ¬í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 'íƒ€ì´íƒ€ë‹‰ ìƒì¡´ì ì˜ˆì¸¡' ë°ì´í„°ë¼ë©´ ë‹¹ì‹œì˜ ì‚¬íšŒ ê³„ê¸‰ êµ¬ì¡°, ì„ ë°•ì˜ êµ¬ì¡° ë“±ì— ëŒ€í•´ íƒêµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-8 text-slate-700">âš™ï¸ ì‚¬ìš©ëœ ëª¨ë¸ ê´€ë ¨ ê°œë…</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="knowledge-model" placeholder="ì‚¬ìš©í•œ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸(ì˜ˆ: ë¡œì§€ìŠ¤í‹± íšŒê·€, SVM, ê²°ì • íŠ¸ë¦¬)ì˜ ìˆ˜í•™ì , í†µê³„ì  ì›ë¦¬ë¥¼ íƒêµ¬í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤. ëª¨ë¸ì´ ì–´ë–¤ ì›ë¦¬ë¡œ ë°ì´í„°ë¥¼ í•™ìŠµí•˜ê³  ì˜ˆì¸¡í•˜ëŠ”ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”. ìˆ˜ì‹ì„ í¬í•¨í•˜ì—¬ ì„¤ëª…í•˜ë©´ ë”ìš± ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆ: $y = Wx + b$"></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">ëŠë‚€ì </h2>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="reflection" placeholder="í”„ë¡œì íŠ¸ ì „ë°˜ì„ í†µí•´ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ì , ë°ì´í„° ë¶„ì„ì˜ ì¤‘ìš”ì„±, ì§„ë¡œì— ëŒ€í•œ ìƒê° ë³€í™” ë“± ìì‹ ì˜ ì„±ì¥ê³¼ ë³€í™”ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ììœ ë¡­ê²Œ ì‘ì„±í•˜ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">í–¥í›„ ê³„íš</h2>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="future-plan" placeholder="ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ìƒê¸´ ì¶”ê°€ì ì¸ ì§ˆë¬¸ì´ë‚˜, ì•ìœ¼ë¡œ ë” ê¹Šì´ ì—°êµ¬í•´ë³´ê³  ì‹¶ì€ ì£¼ì œì— ëŒ€í•´ ê°„ë‹¨íˆ ì‘ì„±í•´ì£¼ì„¸ìš”. (ì˜ˆ: ë‹¤ë¥¸ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬ ëª¨ë¸ ì„±ëŠ¥ ê°œì„ , ë” ë³µì¡í•œ ëª¨ë¸ ì‚¬ìš© ë“±)"></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-orange-500 pb-3 mb-6">ì°¸ê³  ë¬¸í—Œ</h2>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm hidden" id="references" placeholder="APA ìŠ¤íƒ€ì¼(7íŒ)ì— ë§ì¶° ì°¸ê³ í•œ ëª¨ë“  ìë£Œì˜ ì¶œì²˜ë¥¼ ê¸°ì…í•˜ì„¸ìš”."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
        </div>
        
        <footer class="text-center mt-8 py-6 no-print">
            <div id="validation-message" class="text-red-600 font-semibold mb-4 h-6"></div>
            <button id="export-pdf" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center gap-2 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                ë³´ê³ ì„œ PDFë¡œ ì €ì¥
            </button>
        </footer>
    </main>

    <div id="autosave-status" class="no-print fixed bottom-6 right-6 flex items-center bg-slate-800 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-500 z-50">
        <svg id="autosave-icon-saving" class="animate-spin h-5 w-5 mr-3 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
        <svg id="autosave-icon-saved" class="h-5 w-5 mr-3 hidden text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
        <span id="autosave-text"></span>
    </div>

    <div id="loader-overlay" class="fixed inset-0 bg-black bg-opacity-60 flex-col items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl text-center">
            <svg class="animate-spin h-10 w-10 theme-orange mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p class="text-lg font-semibold text-slate-700">PDF ìƒì„± ì¤‘...</p>
            <p class="text-sm text-slate-500 mt-1">ë³´ê³ ì„œ ë‚´ìš©ì„ ë³€í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
        </div>
    </div>
    
    <script>
        // Self-contained script for this specific report to ensure stability.
        document.addEventListener('DOMContentLoaded', () => {
            
            const config = {
                storageKey: 'orangeProjectData',
                savableSelector: '.savable',
                screenshotCount: 4,
                hasCodeBlock: false
            };
            
            const { storageKey, savableSelector, screenshotCount, hasCodeBlock } = config;
            const converter = new showdown.Converter({ simpleLineBreaks: true, tables: true, strikethrough: true, ghCompatibleHeaderId: true, emoji: true });
            const exportBtn = document.getElementById('export-pdf');
            const autosaveStatusEl = document.getElementById('autosave-status');
            let saveTimer, statusTimer;

            function showSaveStatus(state) {
                if (!autosaveStatusEl) return;
                const textEl = autosaveStatusEl.querySelector('#autosave-text');
                const iconSaving = autosaveStatusEl.querySelector('#autosave-icon-saving');
                const iconSaved = autosaveStatusEl.querySelector('#autosave-icon-saved');
                
                clearTimeout(statusTimer);
                autosaveStatusEl.classList.remove('opacity-0');

                if (state === 'saving') {
                    if(textEl) textEl.textContent = 'ì €ì¥ ì¤‘...';
                    if(iconSaving) iconSaving.classList.remove('hidden');
                    if(iconSaved) iconSaved.classList.add('hidden');
                } else if (state === 'saved') {
                    if(textEl) textEl.textContent = 'ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.';
                    if(iconSaving) iconSaving.classList.add('hidden');
                    if(iconSaved) iconSaved.classList.remove('hidden');
                    statusTimer = setTimeout(() => autosaveStatusEl.classList.add('opacity-0'), 2000);
                }
            }

            function updateMarkdownPreview(textareaElement) {
                if (!textareaElement) return;
                const container = textareaElement.closest('.editable-container');
                if (!container) return;
                const preview = container.querySelector('.markdown-preview');
                if (preview) {
                    const placeholder = `<p class="text-slate-400">${textareaElement.placeholder.split('\n')[0]}...</p>`;
                    const html = textareaElement.value ? converter.makeHtml(textareaElement.value) : placeholder;
                    preview.innerHTML = html;
                    if(window.renderMathInElement) {
                        renderMathInElement(preview, { delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });
                    }
                }
            }
            
            function autoResizeTextarea(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = (textarea.scrollHeight) + 'px';
            }

            function saveContent() {
                clearTimeout(saveTimer);
                showSaveStatus('saving');
                saveTimer = setTimeout(() => {
                    const data = {};
                    document.querySelectorAll(savableSelector).forEach(el => {
                        data[el.id] = el.value;
                    });
                    for (let i = 1; i <= screenshotCount; i++) {
                        const img = document.getElementById(`screenshot-preview-${i}`);
                        if (img && img.src && !img.src.includes('placeholder')) {
                            data[`screenshot-preview-${i}`] = img.src;
                        }
                    }
                    localStorage.setItem(storageKey, JSON.stringify(data));
                    showSaveStatus('saved');
                }, 1000);
            }

            function loadContent() {
                const data = JSON.parse(localStorage.getItem(storageKey));
                const textareas = document.querySelectorAll('.markdown-input');

                if (!data) {
                    textareas.forEach(el => {
                        el.value = '';
                        updateMarkdownPreview(el);
                    });
                    return;
                }

                document.querySelectorAll(savableSelector).forEach(field => {
                    if (data.hasOwnProperty(field.id)) {
                        field.value = data[field.id];
                    }
                });
                
                for (let i = 1; i <= screenshotCount; i++) {
                    if (data[`screenshot-preview-${i}`]) {
                        const preview = document.getElementById(`screenshot-preview-${i}`);
                        const placeholder = document.getElementById(`screenshot-placeholder-${i}`);
                        preview.src = data[`screenshot-preview-${i}`];
                        preview.classList.remove('hidden');
                        if (placeholder) placeholder.classList.add('hidden');
                    }
                }

                textareas.forEach(updateMarkdownPreview);
            }

            async function exportToPdf() {
                const loader = document.getElementById('loader-overlay');
                const reportContent = document.getElementById('report-content');
                const validationMessage = document.getElementById('validation-message');
                let allFilled = true;

                // --- 1. ìœ íš¨ì„± ê²€ì‚¬ (ê¸°ì¡´ê³¼ ë™ì¼) ---
                if(validationMessage) validationMessage.textContent = '';
                document.querySelectorAll(savableSelector).forEach(el => {
                    el.classList.remove('border-red-400');
                    if (!el.value.trim()) {
                        el.classList.add('border-red-400');
                        allFilled = false;
                    }
                });
                for (let i = 1; i <= screenshotCount; i++) {
                    const img = document.getElementById(`screenshot-preview-${i}`);
                    if (!img) continue;
                    const wrapper = img.closest('.screenshot-wrapper');
                    if (wrapper) {
                         wrapper.classList.remove('border-red-400', 'border-2');
                        if (!img.src || img.src.includes('placeholder')) {
                            wrapper.classList.add('border-red-400', 'border-2', 'rounded-lg');
                            allFilled = false;
                        }
                    }
                }

                if (!allFilled) {
                    if(validationMessage) validationMessage.textContent = 'ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì‘ì„±í•˜ê³  ìŠ¤í¬ë¦°ìƒ·ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”.';
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    return;
                }
                
                if(loader) loader.style.display = 'flex';

                // --- 2. pdf.html()ì„ ì‚¬ìš©í•œ PDF ìƒì„± ë¡œì§ ---
                try {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'mm',
                        format: 'a4'
                    });

                    // --- 3. ë Œë”ë§ì„ ìœ„í•´ DOM ì¤€ë¹„ ---
                    // í¸ì§‘ì°½(textarea)ì„ ìˆ¨ê¸°ê³  ë¯¸ë¦¬ë³´ê¸°(preview)ë¥¼ ê°•ì œë¡œ í‘œì‹œ
                    const editors = reportContent.querySelectorAll('.editable-container textarea');
                    const previews = reportContent.querySelectorAll('.editable-container .markdown-preview, .editable-container pre');
                    
                    editors.forEach(el => el.style.display = 'none');
                    previews.forEach(el => el.style.display = 'block');

                    // KaTeX ìˆ˜í•™ ê³µì‹ ë‹¤ì‹œ ë Œë”ë§
                    if (window.renderMathInElement) {
                        renderMathInElement(reportContent, {
                            delimiters: [
                                { left: '$$', right: '$$', display: true },
                                { left: '$', right: '$', display: false }
                            ]
                        });
                    }
                    // highlight.js ì½”ë“œ í•˜ì´ë¼ì´íŒ… ë‹¤ì‹œ ì ìš©
                    reportContent.querySelectorAll('pre code').forEach(el => {
                        delete el.dataset.highlighted; // í•˜ì´ë¼ì´íŠ¸ ê°•ì œ ì´ˆê¸°í™”
                        if(typeof hljs !== 'undefined') hljs.highlightElement(el);
                    });
                    
                    // --- 4. pdf.html() ì‹¤í–‰ ---
                    // ì´ í•¨ìˆ˜ëŠ” DOMì„ ë¶„ì„í•˜ì—¬ í…ìŠ¤íŠ¸ëŠ” í…ìŠ¤íŠ¸ë¡œ, ì´ë¯¸ì§€ëŠ” ì´ë¯¸ì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
                    await pdf.html(reportContent, {
                        callback: function (doc) {
                            // --- 5. PDF ì €ì¥ ---
                            const studentId = document.getElementById('student-id').value.trim() || 'í•™ë²ˆ';
                            const studentName = document.getElementById('student-name').value.trim() || 'ì´ë¦„';
                            const docTitle = document.title.split(' ')[0] || 'ë³´ê³ ì„œ';
                            const filename = `${docTitle}_${studentId}_${studentName}.pdf`;
                            doc.save(filename);

                            // --- 6. í˜ì´ì§€ ì›ìƒ ë³µêµ¬ ---
                            // ë Œë”ë§ì„ ìœ„í•´ ì¶”ê°€í–ˆë˜ ì„ì‹œ ìŠ¤íƒ€ì¼ì„ ì œê±°í•˜ì—¬ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦½ë‹ˆë‹¤.
                            editors.forEach(el => el.style.display = '');
                            previews.forEach(el => el.style.display = '');
                        },
                        margin: [15, 15, 15, 15], // [top, right, bottom, left]
                        // 'text' ì˜µì…˜ì€ CSSì˜ 'break-inside: avoid' ê·œì¹™ì„ ì¡´ì¤‘í•©ë‹ˆë‹¤.
                        autoPaging: 'text', 
                        width: pdf.internal.pageSize.getWidth() - 30, 
                        windowWidth: reportContent.scrollWidth, 
                        html2canvas: {
                            scale: 2, 
                            useCORS: true,
                            logging: false
                        }
                    });

                } catch(error) {
                    console.error("PDF generation error:", error);
                    alert("PDFë¥¼ ìƒì„±í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                    
                    // --- 7. ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ í˜ì´ì§€ ì›ìƒ ë³µêµ¬ ---
                    reportContent.querySelectorAll('.editable-container textarea').forEach(el => el.style.display = '');
                    reportContent.querySelectorAll('.editable-container .markdown-preview, .editable-container pre').forEach(el => el.style.display = '');
                    
                } finally {
                    if(loader) loader.style.display = 'none';
                }
            }

            function initialize() {
                document.querySelectorAll('.editable-container').forEach(container => {
                    const preview = container.querySelector('.markdown-preview');
                    const editor = container.querySelector('textarea');

                    if (preview && editor) {
                        preview.addEventListener('click', () => {
                            preview.classList.add('hidden');
                            editor.classList.remove('hidden');
                            editor.focus();
                            autoResizeTextarea(editor);
                        });

                        editor.addEventListener('blur', () => {
                            editor.classList.add('hidden');
                            preview.classList.remove('hidden');
                            updateMarkdownPreview(editor);
                        });
                    }
                });

                document.querySelectorAll(savableSelector).forEach(el => {
                    el.addEventListener('input', () => {
                        saveContent();
                        if (el.tagName === 'TEXTAREA') autoResizeTextarea(el);
                    });
                });

                for (let i = 1; i <= screenshotCount; i++) {
                    const input = document.getElementById(`screenshot-input-${i}`);
                    if (input) {
                        input.addEventListener('change', (event) => {
                            const preview = document.getElementById(`screenshot-preview-${i}`);
                            const placeholder = document.getElementById(`screenshot-placeholder-${i}`);
                            const file = event.target.files[0];
                            if (file) {
                                const reader = new FileReader();
                                reader.onload = (e) => {
                                    preview.src = e.target.result;
                                    preview.classList.remove('hidden');
                                    if (placeholder) placeholder.classList.add('hidden');
                                    saveContent();
                                }
                                reader.readAsDataURL(file);
                            }
                        });
                    }
                }
                
                if (exportBtn) exportBtn.addEventListener('click', exportToPdf);

                loadContent();
            }

            initialize();
        });
    </script>
</body>
</html>

