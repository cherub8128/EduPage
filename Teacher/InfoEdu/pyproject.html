<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python SDGs 프로젝트 보고서</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- KaTeX: LaTeX 수식 렌더링 라이브러리 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" xintegrity="sha384-n8MVd4RsNIU07vaPkpxUalGOz4A6PCgbNEOFJMYGfCKijWLLbsc1nlCATRTeDD5b" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" xintegrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmImQXLwlu" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" xintegrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <style>
        /* 라이트 모드 전용 색상 변수 */
        :root {
            --bg-primary: #f1f5f9;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f8fafc;
            --text-primary: #1e29b;
            --text-secondary: #475569;
            --border-primary: #e2e8f0;
            --border-secondary: #cbd5e1;
            --accent-color: #3b82f6;
            --invalid-color: #ef4444;
            --code-bg: #1e293b;
            --code-text: #e2e8f0;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
            background-color: var(--bg-primary); color: var(--text-secondary);
        }
        .section-card { background-color: var(--bg-secondary); }
        h1, h2, h3, h4, h5, h6 { color: var(--text-primary); }
        .markdown-input {
            width: 100%; min-height: 150px; border: 1px solid var(--border-secondary); border-radius: 0.5rem; padding: 0.75rem 1rem;
            font-family: 'Noto Sans KR', sans-serif; font-size: 1rem; line-height: 1.75; resize: vertical;
            background-color: var(--bg-secondary); color: var(--text-primary);
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .markdown-input:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-color) 25%, transparent); }
        .markdown-preview { margin-top: 1rem; padding: 1rem; background-color: var(--bg-tertiary); border-radius: 0.5rem; border: 1px solid var(--border-primary); min-height: 120px; }
        .is-invalid { border-color: var(--invalid-color) !important; }
        .is-invalid:focus { box-shadow: 0 0 0 2px color-mix(in srgb, var(--invalid-color) 25%, transparent) !important; }
        .prose { --tw-prose-body: var(--text-primary); --tw-prose-headings: var(--text-primary); --tw-prose-links: var(--accent-color); --tw-prose-bold: var(--text-primary); --tw-prose-code: var(--text-primary); --tw-prose-bullets: var(--text-secondary); }
        /* 파일 업로드 버튼 UI */
        .file-upload-label { cursor: pointer; background-color: var(--bg-tertiary); color: var(--text-secondary); padding: 0.5rem 1rem; border-radius: 0.375rem; border: 1px solid var(--border-secondary); font-size: 0.875rem; font-weight: 500; transition: background-color 0.2s, border-color 0.2s; }
        .file-upload-label:hover { background-color: #f1f5f9; border-color: var(--accent-color); }
        
        @media print {
            html, body { -webkit-print-color-adjust: exact; print-color-adjust: exact; background-color: #ffffff !important; color: #000000 !important; }
            .section-card { box-shadow: none !important; border: 1px solid #e2e8f0; page-break-inside: avoid; background-color: #ffffff !important; }
            h1, h2, h3, h4, h5, h6 { color: #000000 !important; }
            .print-hidden { display: none !important; }
            .markdown-input, .image-upload-ui { display: none !important; }
            .markdown-preview { margin: 0 !important; padding: 0 !important; background: transparent !important; border: none !important; color: #000000 !important; }
            .prose { --tw-prose-body: #000; --tw-prose-headings: #000; --tw-prose-links: #000; --tw-prose-bold: #000; --tw-prose-code: #000; --tw-prose-bullets: #000; }
            .screenshot-container img { max-width: 100%; display: block !important; }
            #code-input { display: block !important; white-space: pre-wrap !important; word-wrap: break-word !important; border: 1px solid #e2e8f0; background-color: #f8fafc !important; color: #000000 !important; padding: 1rem; }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-700">

    <main class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="relative text-center mb-12 print-hidden">
            <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">🚀 Python SDGs 프로젝트 보고서</h1>
            <p class="mt-4 text-lg">아래의 각 항목에 내용을 직접 입력하고, 스크린샷을 첨부하여 보고서를 완성하세요.</p>
        </header>

        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead><tr><th class="p-4 bg-slate-50 rounded-tl-lg font-semibold">학번</th><th class="p-4 bg-slate-50 rounded-tr-lg font-semibold">이름</th></tr></thead>
                    <tbody><tr>
                        <td class="p-4 border-t border-slate-200"><input type="text" id="student-id" placeholder="예: 11301" class="w-full bg-transparent focus:outline-none editable-field"></td>
                        <td class="p-4 border-t border-slate-200"><input type="text" id="student-name" placeholder="예: 홍길동" class="w-full bg-transparent focus:outline-none editable-field"></td>
                    </tr></tbody>
                </table>
            </div>
        </section>
        
        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">1. 프로젝트 개요</h2>
            <h3 class="text-xl font-semibold mt-4">🎯 선택한 SDGs 항목 (또는 희망 진로)</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section1-1" placeholder="* SDGs 항목: (선택하지 않을 경우 비워두세요)&#10;* 희망 진로: 합성생물학자"></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">💡 프로젝트 주제 및 요약</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section1-2" placeholder="SDGs를 선택한 경우: 목표 달성에 도움이 되는 앱, 또는 주제의 심각성을 알리는 게임 제작 등&#10;진로를 선택한 경우: 진로와 관련된 탐구/연구를 시각화, 시뮬레이션 제작 또는 진로 탐색 게임 제작 등"></textarea><div class="markdown-preview prose max-w-none"></div></div>
        </section>

        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">2. 문제 분석 및 해결 계획</h2>
            <h3 class="text-xl font-semibold mt-4">📌 문제 정의</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section2-1" placeholder="SDGs 선택 시: 해당 목표를 달성하는 데 방해가 되는 문제 상황을 구체적으로 서술합니다.&#10;진로 선택 시: 자신의 진로와 관련하여 탐구하고 싶거나 해결하고 싶은 문제 상황을 서술합니다.&#10;&#10;예시 (진로 - 합성생물학자):&#10;합성생물학 기술로 미세 플라스틱 분해 미생물을 설계할 수 있지만, 실제 해양 환경에서 이 미생물이 생태계에 미칠 영향을 예측하고 제어하는 것이 매우 어렵습니다. 이 문제를 가상으로 시뮬레이션하고 변수를 통제할 수 있는 프로그램이 부족한 상황입니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">🛠️ 해결 아이디어 및 방법</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section2-2" placeholder="* 해결 아이디어: 딱딱한 코드 대신, 귀여운 캐릭터와 블록을 움직이는 시각적인 방식으로 코딩을 배울 수 있는 환경을 제공합니다.&#10;* 구현 방법: Python의 tkinter 모듈을 사용하여 GUI 화면을 구성하고, 각 버튼이 코딩의 특정 기능을 수행하도록 하여 게임처럼 즐길 수 있게 만듭니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">📈 예상 동작 결과</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section2-3" placeholder="1. 프로그램을 실행하면 시작 화면이 나타난다.&#10;2. '시작하기' 버튼을 누르면, 미로와 캐릭터가 있는 게임 스테이지가 보인다.&#10;3. 사용자는 화면 우측의 명령 블록(버튼)을 순서대로 누른다.&#10;4. '실행' 버튼을 누르면, 캐릭터가 사용자가 누른 명령 순서대로 미로를 움직인다.&#10;5. 목적지에 도착하면 '성공!' 메시지와 함께 다음 스테이지로 넘어간다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
        </section>

        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">3. 프로그램 설계</h2>
            <h3 class="text-xl font-semibold mt-4">💻 작성한 코드</h3>
            <textarea id="code-input" class="markdown-input bg-slate-900 text-slate-200 font-mono text-sm editable-field" placeholder="import tkinter as tk ..."></textarea>
            <h3 class="text-xl font-semibold mt-8">🗺️ 코드 구조 및 흐름도</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section3-2" placeholder="1. 초기 설정: tkinter 라이브러리를 불러오고 게임 창을 설정합니다.&#10;2. 화면 구성: 게임이 그려질 Canvas와 명령 버튼들을 생성하여 배치합니다.&#10;3. 이벤트 대기: mainloop()를 통해 사용자의 입력을 기다립니다.&#10;4. 함수 실행: 사용자가 버튼을 클릭하면 연결된 함수가 실행됩니다.&#10;5. 상태 업데이트: 함수는 캐릭터 위치 값을 변경하고 Canvas를 다시 그립니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">📚 사용한 함수, 모듈, 라이브러리</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section3-3" placeholder="* tkinter: Python 표준 라이브러리로, 그래픽 인터페이스를 쉽게 만들 수 있어 채택했습니다.&#10;* tk.Canvas: 미로나 캐릭터 등 그래픽 요소를 자유롭게 그리기 위해 사용했습니다.&#10;* tk.Button: 사용자의 클릭 입력을 받아 특정 함수를 실행시키는 '명령 블록' 역할을 위해 사용했습니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">💡 관련 교과 지식 탐구</h3>
            <div class="markdown-editor-container">
                <textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section3-4" placeholder="프로젝트에 활용된 수학적, 과학적 원리나 교과 지식이 있다면 설명해주세요. (예: 캐릭터 이동에 피타고라스 정리 활용, 데이터 시각화에 통계적 개념 적용 등)&#10;* 수학 - 좌표 평면: tkinter의 Canvas는 좌측 상단을 (0,0)으로 하는 데카르트 좌표계를 사용합니다. 캐릭터의 위치를 x, y 좌표로 관리하고, 이동 명령에 따라 좌표값을 더하거나 빼는 방식으로 움직임을 구현했습니다. 이는 중학교 수학에서 배우는 좌표 평면과 함수의 이동 개념과 직접적으로 연결됩니다."></textarea>
                <div class="markdown-preview prose max-w-none"></div>
            </div>
        </section>
        
        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">4. 프로그램 구현 결과</h2>
            <h3 class="text-xl font-semibold mt-4">🖼️ 주요 실행 결과 (스크린샷 첨부)</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                <div class="screenshot-container"><div class="bg-slate-100 border-2 border-dashed border-slate-300 aspect-video rounded-lg flex items-center justify-center font-medium"><img id="screenshot-preview-1" alt="스크린샷 1 미리보기" class="w-full h-full object-contain hidden rounded-lg"><span id="screenshot-placeholder-1" class="text-slate-500">스크린샷 1 첨부</span></div><div class="mt-2 image-upload-ui text-center"><input type="file" accept="image/*" onchange="previewImage(event, 1)" class="hidden" id="screenshot-input-1"><label for="screenshot-input-1" class="file-upload-label">이미지 선택</label></div></div>
                <div class="screenshot-container"><div class="bg-slate-100 border-2 border-dashed border-slate-300 aspect-video rounded-lg flex items-center justify-center font-medium"><img id="screenshot-preview-2" alt="스크린샷 2 미리보기" class="w-full h-full object-contain hidden rounded-lg"><span id="screenshot-placeholder-2" class="text-slate-500">스크린샷 2 첨부</span></div><div class="mt-2 image-upload-ui text-center"><input type="file" accept="image/*" onchange="previewImage(event, 2)" class="hidden" id="screenshot-input-2"><label for="screenshot-input-2" class="file-upload-label">이미지 선택</label></div></div>
            </div>
            <h3 class="text-xl font-semibold mt-8">🔍 결과 해석</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section4-2" placeholder="첫 번째 스크린샷은 프로그램의 시작 화면입니다. 두 번째 스크린샷은 실제 게임 진행 화면으로, 사용자가 버튼을 눌러 캐릭터를 움직이는 모습을 보여줍니다. 이를 통해, 당초 계획했던 '시각적 코딩 학습' 목표가 성공적으로 구현되었음을 확인할 수 있습니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
        </section>

        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">5. 프로젝트 후기 및 느낀 점</h2>
            <h3 class="text-xl font-semibold mt-4">🤔 진행 중 어려웠던 점과 해결 방법</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section5-1" placeholder="* 어려웠던 점: 여러 명령을 순서대로 저장했다가 '실행' 버튼을 눌렀을 때 한 번에 움직이게 하는 로직 구현.&#10;* 해결 방법: 사용자가 누른 명령을 순서대로 저장할 리스트(list) 변수를 만들고, '실행' 시 for 반복문으로 리스트의 명령을 실행하도록 코드를 작성하여 해결했습니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
            <h3 class="text-xl font-semibold mt-8">🌱 앞으로의 개선 방향</h3>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section5-2" placeholder="사용자가 직접 미로를 디자인하고 공유할 수 있는 '맵 에디터' 기능을 추가하고 싶습니다. 또한, matplotlib 라이브러리를 연동하여 학습 진행 상황을 그래프로 시각화하여 보여주는 기능을 추가하면 더 좋은 교육 프로그램이 될 것 같습니다."></textarea><div class="markdown-preview prose max-w-none"></div></div>
        </section>

        <section class="bg-white p-6 sm:p-8 rounded-xl shadow-lg mb-8 section-card">
            <h2 class="text-3xl font-bold border-b-2 border-blue-500 pb-3 mb-6">6. 참고자료</h2>
            <div class="markdown-editor-container"><textarea class="markdown-input editable-field" oninput="updatePreview(this)" id="section6-1" placeholder="* 점프 투 파이썬: https://wikidocs.net/book/1&#10;* Flaticon: https://www.flaticon.com/"></textarea><div class="markdown-preview prose max-w-none"></div></div>
        </section>
        
        <footer class="text-center mt-12 print-hidden">
            <div id="validation-message" class="text-red-600 font-semibold mb-4 h-6"></div>
            <button onclick="saveAsPdf()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 transition-colors shadow-lg">보고서 PDF로 저장</button>
        </footer>
    </main>

    <!-- Autosave Status Indicator -->
    <div id="autosave-status" class="print-hidden fixed bottom-6 right-6 flex items-center bg-slate-800 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-500 z-50">
        <svg id="autosave-icon-saving" class="animate-spin h-5 w-5 mr-3 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <svg id="autosave-icon-saved" class="h-5 w-5 mr-3 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
        </svg>
        <span id="autosave-text"></span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script>
        // --- CORE FUNCTIONS ---
        const converter = new showdown.Converter({ tables: true, strikethrough: true });
        let saveTimer = null;
        let statusTimer = null;

        // --- AUTOSAVE STATUS UI ---
        function showSaveStatus(state) {
            const statusEl = document.getElementById('autosave-status');
            if (!statusEl) return;
            const textEl = document.getElementById('autosave-text');
            const iconSaving = document.getElementById('autosave-icon-saving');
            const iconSaved = document.getElementById('autosave-icon-saved');

            clearTimeout(statusTimer);
            statusEl.classList.remove('opacity-0');

            if (state === 'saving') {
                textEl.textContent = '저장 중...';
                iconSaving.classList.remove('hidden');
                iconSaved.classList.add('hidden');
            } else if (state === 'saved') {
                textEl.textContent = '모든 변경사항이 저장되었습니다.';
                iconSaving.classList.add('hidden');
                iconSaved.classList.remove('hidden');
                statusTimer = setTimeout(() => {
                    statusEl.classList.add('opacity-0');
                }, 2000); // Hide after 2 seconds
            }
        }

        function updatePreview(textareaElement) {
            saveContent(textareaElement); // 변경 시 자동 저장
            const container = textareaElement.parentElement;
            const preview = container.querySelector('.markdown-preview');
            const markdownText = textareaElement.value;
            const html = converter.makeHtml(markdownText);
            preview.innerHTML = html;
            // KaTeX 스크립트가 로드된 후에만 렌더링 함수 호출
            if (window.renderMathInElement) {
                renderMathInElement(preview, { delimiters: [ {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false} ] });
            }
        }

        function previewImage(event, id) {
            const preview = document.getElementById(`screenshot-preview-${id}`);
            const placeholder = document.getElementById(`screenshot-placeholder-${id}`);
            const file = event.target.files[0];
            if (file) {
                showSaveStatus('saving');
                const reader = new FileReader();
                reader.onload = function(e) {
                    const base64Image = e.target.result;
                    preview.src = base64Image;
                    preview.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                    localStorage.setItem(`screenshot-preview-${id}`, base64Image);
                    showSaveStatus('saved');
                }
                reader.readAsDataURL(file);
            }
        }
        
        // --- LOCAL STORAGE (AUTOSAVE) ---
        function saveContent(element) {
            clearTimeout(saveTimer);
            showSaveStatus('saving');
            
            saveTimer = setTimeout(() => {
                if(element.id) {
                    localStorage.setItem(element.id, element.value);
                }
                showSaveStatus('saved');
            }, 1000); // Debounce time
        }

        function loadContent() {
            document.querySelectorAll('.editable-field').forEach(field => {
                const savedValue = localStorage.getItem(field.id);
                if (savedValue) {
                    field.value = savedValue;
                }
            });
            for (let i = 1; i <= 2; i++) {
                const savedImage = localStorage.getItem(`screenshot-preview-${i}`);
                if (savedImage) {
                    const preview = document.getElementById(`screenshot-preview-${i}`);
                    const placeholder = document.getElementById(`screenshot-placeholder-${i}`);
                    preview.src = savedImage;
                    preview.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                }
            }
        }

        // --- VALIDATION & SAVE ---
        function validateForm() {
            let isValid = true;
            const fields = document.querySelectorAll('.editable-field');
            const validationMessage = document.getElementById('validation-message');
            fields.forEach(field => {
                field.classList.remove('is-invalid');
                if (field.value.trim() === '') {
                    field.classList.add('is-invalid');
                    isValid = false;
                }
            });
            validationMessage.textContent = isValid ? '' : '모든 필수 항목을 작성해주세요.';
            if (!isValid) {
                 window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            return isValid;
        }

        function updatePrintableInputs() {
             document.querySelectorAll('.text-input.editable-field').forEach(input => {
                input.setAttribute('data-value', input.value);
            });
        }


        function saveAsPdf() {
            updatePrintableInputs();
            if (validateForm()) {
                const studentId = document.getElementById('student-id').value.trim() || '학번';
                const studentName = document.getElementById('student-name').value.trim() || '이름';
                const originalTitle = document.title;
                document.title = `Python_${studentId}_${studentName}`;
                window.print();
                document.title = originalTitle;
            }
        }


        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // 1. 저장된 콘텐츠 로드
            loadContent();

            // 2. 이벤트 리스너 설정
            document.querySelectorAll('.markdown-input').forEach(textarea => {
                function autoResize() {
                    textarea.style.height = 'auto';
                    textarea.style.height = (textarea.scrollHeight) + 'px';
                }
                textarea.addEventListener('input', autoResize);
                autoResize();
                textarea.addEventListener('input', (e) => {
                    updatePreview(e.target);
                    saveContent(e.target);
                });
            });
            
            document.querySelectorAll('#student-id, #student-name').forEach(input => {
                input.addEventListener('input', (e) => saveContent(e.target));
            });

            // 3. 로드된 콘텐츠에 대해 마크다운 및 KaTeX 렌더링 실행
            document.querySelectorAll('.markdown-input.editable-field').forEach(ta => {
                if(ta.id !== 'code-input' && ta.value) {
                    updatePreview(ta);
                }
            });
        });
    </script>
    <footer class="text-center py-8 print-hidden">
        <p class="text-sm text-slate-500">
            © 2025 Cherub8128. All rights reserved. 무단 복제 및 배포를 금지합니다.
        </p>
    </footer>
</body>
</html>

