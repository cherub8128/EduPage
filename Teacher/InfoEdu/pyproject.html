<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python í”„ë¡œì íŠ¸ ë³´ê³ ì„œ</title>
    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        @import url('https://cdn.jsdelivr.net/gh/naen-nae/d2coding/d2coding-subset.css');
        
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .editable-container .prose, .editable-container pre { cursor: text; transition: background-color 0.2s; }
        .editable-container .prose { min-height: 80px; padding: 0.75rem; border-radius: 0.375rem; border: 1px solid transparent; }
        .editable-container .prose:hover, .editable-container pre:hover { background-color: #f8fafc; border-color: #e2e8f0;}
        #code-input { font-family: 'D2Coding', monospace; font-size: 0.9rem; line-height: 1.6; }
        .code-preview { font-family: 'D2Coding', monospace; font-size: 0.9rem; line-height: 1.6; padding: 1rem; border-radius: 0.5rem; }
    </style>
</head>
<body class="p-4 sm:p-8">

    <main class="max-w-4xl mx-auto">
        <header class="text-center mb-10 no-print">
            <div class="flex justify-center items-center gap-3 mb-4">
                 <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/></svg>
                 </div>
                <h1 class="text-4xl font-extrabold text-slate-800">Python í”„ë¡œì íŠ¸ ë³´ê³ ì„œ</h1>
            </div>
            <p class="text-slate-500">ê° í•­ëª©ì— ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ìŠ¤í¬ë¦°ìƒ·ì„ ì²¨ë¶€í•˜ì—¬ ë³´ê³ ì„œë¥¼ ì™„ì„±í•˜ì„¸ìš”.</p>
        </header>

        <div id="report-content" class="bg-white rounded-lg shadow-md">
            <section class="report-section p-8 break-inside-avoid">
                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead><tr><th class="p-4 bg-slate-50 rounded-tl-lg font-semibold text-slate-700">í•™ë²ˆ</th><th class="p-4 bg-slate-50 rounded-tr-lg font-semibold text-slate-700">ì´ë¦„</th></tr></thead>
                        <tbody><tr>
                            <td class="p-2 border-t border-slate-200"><input type="text" id="student-id" placeholder="ì˜ˆ: 11301" class="savable w-full p-2 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-200 rounded-md"></td>
                            <td class="p-2 border-t border-slate-200"><input type="text" id="student-name" placeholder="ì˜ˆ: í™ê¸¸ë™" class="savable w-full p-2 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-200 rounded-md"></td>
                        </tr></tbody>
                    </table>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">1. í”„ë¡œì íŠ¸ ê°œìš”</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ¯ ì„ íƒí•œ SDGs í•­ëª© (ë˜ëŠ” í¬ë§ ì§„ë¡œ)</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[100px] hidden" id="section1-1" placeholder="* SDGs í•­ëª©: 14ë²ˆ (í•´ì–‘ ìƒíƒœê³„ ë³´ì „)&#10;* í¬ë§ ì§„ë¡œ: ë°ì´í„° ê³¼í•™ì"></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ’¡ í”„ë¡œì íŠ¸ ì£¼ì œ ë° ìš”ì•½</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section1-2" placeholder="**ì£¼ì œ: Pythonì„ í™œìš©í•œ í•´ì–‘ í”Œë¼ìŠ¤í‹± ì“°ë ˆê¸° ë¶„í¬ ì‹œê°í™” ë° ì´ë™ ê²½ë¡œ ì˜ˆì¸¡**&#10;&#10;ë³¸ í”„ë¡œì íŠ¸ëŠ” ì „ ì„¸ê³„ì ì¸ í™˜ê²½ ë¬¸ì œì¸ í•´ì–‘ í”Œë¼ìŠ¤í‹± ì˜¤ì—¼ì˜ ì‹¬ê°ì„±ì„ ì•Œë¦¬ê³ , ë¬¸ì œ í•´ê²°ì— ê¸°ì—¬í•˜ê³ ì Pythonì„ ì‚¬ìš©í•˜ì—¬ í•´ì–‘ ì“°ë ˆê¸° ë°ì´í„°ë¥¼ ì‹œê°í™”í•˜ê³ , í•´ë¥˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŠ¹ì • ì§€ì—­ì˜ ì“°ë ˆê¸° ì´ë™ ê²½ë¡œë¥¼ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ ê°œë°œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">2. ë¬¸ì œ ë¶„ì„ ë° í•´ê²° ê³„íš</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ“Œ ë¬¸ì œ ì •ì˜</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[150px] hidden" id="section2-1" placeholder="í•´ì–‘ í”Œë¼ìŠ¤í‹± ì“°ë ˆê¸°ëŠ” í•´ë¥˜ë¥¼ ë”°ë¼ ì „ ì„¸ê³„ ë°”ë‹¤ë¡œ í¼ì ¸ë‚˜ê°€ ê±°ëŒ€í•œ ì“°ë ˆê¸° ì„¬(Garbage Patch)ì„ í˜•ì„±í•˜ë©° í•´ì–‘ ìƒíƒœê³„ë¥¼ íŒŒê´´í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì“°ë ˆê¸°ë“¤ì´ ì–´ë””ì—ì„œ ë°œìƒí•˜ì—¬ ì–´ë–»ê²Œ ì´ë™í•˜ê³ , ì–´ëŠ ê³³ì— ì§‘ì¤‘ì ìœ¼ë¡œ ëª¨ì´ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ëŠ” ì¼ë°˜ ëŒ€ì¤‘ì—ê²Œ ì˜ ì•Œë ¤ì ¸ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. íš¨ê³¼ì ì¸ ìˆ˜ê±° ë° ì •í™” í™œë™ì„ ìœ„í•´ì„œëŠ” í”Œë¼ìŠ¤í‹± ì“°ë ˆê¸°ì˜ ë¶„í¬ì™€ ì´ë™ ê²½ë¡œì— ëŒ€í•œ ê³¼í•™ì ì¸ ë¶„ì„ê³¼ ì˜ˆì¸¡ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ› ï¸ í•´ê²° ì•„ì´ë””ì–´ ë° ë°©ë²•</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section2-2" placeholder="* **í•´ê²° ì•„ì´ë””ì–´**: ì „ ì„¸ê³„ í•´ì–‘ ì“°ë ˆê¸° ë°œê²¬ ìœ„ì¹˜ ë°ì´í„°ì™€ í•´ë¥˜ ë°ì´í„°ë¥¼ Pythonìœ¼ë¡œ ë¶„ì„í•˜ì—¬, ì“°ë ˆê¸° ë¶„í¬ í˜„í™©ì„ ì„¸ê³„ ì§€ë„ ìœ„ì— ì‹œê°í™”í•˜ê³ , íŠ¹ì • ì§€ì ì—ì„œ ì¶œë°œí•œ ì“°ë ˆê¸°ê°€ ì¼ì • ì‹œê°„ í›„ ì–´ë””ë¡œ ì´ë™í• ì§€ ì˜ˆì¸¡í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ì„ ì œì‘í•©ë‹ˆë‹¤.&#10;* **êµ¬í˜„ ë°©ë²•**:&#10;  1.  `pandas` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ NOAA(ë¯¸êµ­ í•´ì–‘ëŒ€ê¸°ì²­)ì—ì„œ ì œê³µí•˜ëŠ” í•´ì–‘ ì“°ë ˆê¸° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì „ì²˜ë¦¬í•©ë‹ˆë‹¤.&#10;  2.  `matplotlib`ì™€ `cartopy` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ì„¸ê³„ ì§€ë„ ìœ„ì— ì“°ë ˆê¸° ë°œê²¬ ìœ„ì¹˜ë¥¼ íˆíŠ¸ë§µ(heatmap) í˜•íƒœë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.&#10;  3.  í•´ë¥˜ ë²¡í„° ë°ì´í„°ë¥¼ ì´ìš©í•´, íŠ¹ì • ì¢Œí‘œì— ìœ„ì¹˜í•œ ê°€ìƒì˜ ì“°ë ˆê¸° ì…ìê°€ ì‹œê°„ì— ë”°ë¼ ì´ë™í•˜ëŠ” ê²½ë¡œë¥¼ ê³„ì‚°í•˜ê³ , ì´ë¥¼ ì§€ë„ ìœ„ì— ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ“ˆ ì˜ˆìƒ ë™ì‘ ê²°ê³¼</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section2-3" placeholder="1.  í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´, ì „ ì„¸ê³„ í•´ì–‘ ì“°ë ˆê¸° ë¶„í¬ê°€ ì‹œê°í™”ëœ ì„¸ê³„ ì§€ë„ê°€ ë‚˜íƒ€ë‚œë‹¤. íƒœí‰ì–‘ ê±°ëŒ€ ì“°ë ˆê¸° ì„¬(GPGP)ê³¼ ê°™ì€ ì£¼ìš” ì˜¤ì—¼ ì§€ì—­ì´ ë¶‰ì€ìƒ‰ìœ¼ë¡œ ê°•ì¡°ë˜ì–´ ë³´ì¸ë‹¤.&#10;2.  ì‚¬ìš©ìê°€ ì§€ë„ ìœ„ì˜ íŠ¹ì • ì§€ì (ì˜ˆ: ë™í•´)ì„ í´ë¦­í•˜ë©´, í•´ë‹¹ ìœ„ì¹˜ì—ì„œ ì“°ë ˆê¸°ê°€ ìœ ì¶œë˜ì—ˆë‹¤ê³  ê°€ì •í•œë‹¤.&#10;3.  'ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, í•´ë¥˜ ë°ì´í„°ë¥¼ ë”°ë¼ í•´ë‹¹ ì“°ë ˆê¸°ê°€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì´ë™í•˜ëŠ” ê²½ë¡œê°€ ì§€ë„ ìœ„ì— ì„ ìœ¼ë¡œ ê·¸ë ¤ì§„ë‹¤.&#10;4.  ìµœì¢…ì ìœ¼ë¡œ ìˆ˜ì‹­ì¼ í›„ ì“°ë ˆê¸°ê°€ ì–´ëŠ í•´ì—­ì— ë„ë‹¬í• ì§€ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">3. í”„ë¡œê·¸ë¨ ì„¤ê³„</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ’» ì‘ì„±í•œ ì½”ë“œ</h3>
                <div class="editable-container mt-2">
                    <textarea id="code-input" class="savable w-full border-slate-300 rounded-md shadow-sm bg-slate-800 text-slate-200 min-h-[250px] hidden" placeholder="import tkinter as tk&#10;&#10;# ìœˆë„ìš° ìƒì„±&#10;window = tk.Tk()&#10;window.title(&quot;ë‚˜ì˜ ì²« GUI ì•±&quot;)&#10;window.geometry(&quot;400x300&quot;)&#10;&#10;# ë¼ë²¨ ìƒì„±&#10;label = tk.Label(window, text=&quot;ì•ˆë…•í•˜ì„¸ìš”, Tkinter!&quot;, font=(&quot;Helvetica&quot;, 16))&#10;label.pack(pady=20)&#10;&#10;# ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬&#10;def on_button_click():&#10;    label.config(text=&quot;ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤!&quot;)&#10;&#10;# ë²„íŠ¼ ìƒì„±&#10;button = tk.Button(window, text=&quot;ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì„¸ìš”&quot;, command=on_button_click)&#10;button.pack(pady=10)&#10;&#10;# ìœˆë„ìš° ì‹¤í–‰&#10;window.mainloop()"></textarea>
                    <pre class="bg-slate-800 rounded-md"><code class="code-preview language-python"></code></pre>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ—ºï¸ ì½”ë“œ êµ¬ì¡° ë° íë¦„ë„</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section3-2" placeholder="1.  **ë°ì´í„° ë¡œë”© ë° ì „ì²˜ë¦¬**: `pandas`ë¥¼ ì‚¬ìš©í•´ CSV í˜•ì‹ì˜ í•´ì–‘ ì“°ë ˆê¸° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ í›„, ìœ„ë„/ê²½ë„ ì •ë³´ê°€ ì—†ëŠ” ë¬´íš¨ ë°ì´í„°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.&#10;2.  **ì „ì—­ ë¶„í¬ ì‹œê°í™”**: `matplotlib`ì™€ `cartopy`ë¥¼ ì´ìš©í•´ ì„¸ê³„ ì§€ë„ë¥¼ ìƒì„±í•˜ê³ , ì „ì²˜ë¦¬ëœ ë°ì´í„°ì˜ ìœ„ë„/ê²½ë„ ê°’ì„ ì´ìš©í•´ ì“°ë ˆê¸° ìœ„ì¹˜ë¥¼ ì‚°ì ë„(scatter plot)ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.&#10;3.  **ì´ë™ ê²½ë¡œ ì˜ˆì¸¡ í•¨ìˆ˜ ì •ì˜**: ìœ„ë„, ê²½ë„, ì‹œê°„, í•´ë¥˜ ì†ë„ë¥¼ ì…ë ¥ë°›ì•„ ë‹¤ìŒ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ê°„ë‹¨í•œ ë¬¼ë¦¬ ëª¨ë¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.&#10;4.  **ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰**: íŠ¹ì • ì‹œì‘ì ê³¼ ê¸°ê°„ì„ ì„¤ì •í•˜ì—¬ ì˜ˆì¸¡ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ , ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ“š ì‚¬ìš©í•œ í•¨ìˆ˜, ëª¨ë“ˆ, ë¼ì´ë¸ŒëŸ¬ë¦¬</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section3-3" placeholder="* **pandas**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ë‹¤ë£¨ê³ , CSV íŒŒì¼ ë¡œë”© ë° ê²°ì¸¡ì¹˜ ì œê±° ë“± ë°ì´í„° ì •ì œ ì‘ì—…ì„ ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&#10;* **matplotlib**: ë°ì´í„° ì‹œê°í™”ì˜ í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì‚°ì ë„, íˆíŠ¸ë§µ ë“± ë‹¤ì–‘í•œ ê·¸ë˜í”„ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&#10;* **cartopy**: matplotlib ê¸°ë°˜ì˜ ì§€ë„ ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì‹¤ì œ ì„¸ê³„ ì§€ë„ ìœ„ì— ë°ì´í„°ë¥¼ íˆ¬ì˜(projection)í•˜ì—¬ ì§€ë¦¬ ì •ë³´ë¥¼ ì •í™•í•˜ê²Œ í‘œí˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ’¡ ê´€ë ¨ êµê³¼ ì§€ì‹ íƒêµ¬</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section3-4" placeholder="* **ìˆ˜í•™ - ë²¡í„°**: í•´ë¥˜ì˜ ë°©í–¥ê³¼ ì†ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë²¡í„°($\vec{v} = (u, v)$) ê°œë…ì„ ì´ë™ ê²½ë¡œ ì˜ˆì¸¡ ëª¨ë¸ì— ì ìš©í–ˆìŠµë‹ˆë‹¤. íŠ¹ì • ì‹œê°„($t$) í›„ì˜ ìœ„ì¹˜ ë³€í™”ëŸ‰ì€ $\Delta P = \vec{v} \cdot t$ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ë²¡í„°ì˜ ìŠ¤ì¹¼ë¼ ê³± ì—°ì‚°ê³¼ ë™ì¼í•©ë‹ˆë‹¤.&#10;* **ì§€êµ¬ê³¼í•™ - í•´ìˆ˜ì˜ í‘œì¸µ ìˆœí™˜**: í”„ë¡œì íŠ¸ì˜ ê¸°ë³¸ ì›ë¦¬ê°€ ë˜ëŠ” ì „ ì§€êµ¬ì  í•´ë¥˜ì˜ ìˆœí™˜(ë¶íƒœí‰ì–‘ ì•„ì—´ëŒ€ ìˆœí™˜ ë“±)ì— ëŒ€í•´ íƒêµ¬í–ˆìŠµë‹ˆë‹¤. ì§€ë„ì— ì‹œê°í™”ëœ ì“°ë ˆê¸° ì§‘ì¤‘ ì§€ì—­ì´ ì£¼ìš” í™˜ë¥˜(Gyre)ì˜ ì¤‘ì‹¬ë¶€ì™€ ì¼ì¹˜í•˜ëŠ” ê²½í–¥ì„ í†µí•´, êµê³¼ì„œì—ì„œ ë°°ìš´ ì§€ì‹ì´ ì‹¤ì œ ë°ì´í„°ë¡œ ê²€ì¦ë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                 <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">4. í”„ë¡œê·¸ë¨ êµ¬í˜„ ê²°ê³¼</h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ–¼ï¸ ì£¼ìš” ì‹¤í–‰ ê²°ê³¼ (ìŠ¤í¬ë¦°ìƒ· ì²¨ë¶€)</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                    <div class="screenshot-wrapper">
                        <label for="screenshot-input-1" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100">
                            <img id="screenshot-preview-1" class="hidden w-full h-full object-contain rounded-lg">
                            <div id="screenshot-placeholder-1" class="text-center text-slate-500 p-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                                ìŠ¤í¬ë¦°ìƒ· 1 ì²¨ë¶€
                            </div>
                        </label>
                        <input type="file" accept="image/*" class="hidden" id="screenshot-input-1">
                    </div>
                    <div class="screenshot-wrapper">
                         <label for="screenshot-input-2" class="flex flex-col items-center justify-center w-full min-h-48 border-2 border-slate-300 border-dashed rounded-lg cursor-pointer bg-slate-50 hover:bg-slate-100">
                            <img id="screenshot-preview-2" class="hidden w-full h-full object-contain rounded-lg">
                            <div id="screenshot-placeholder-2" class="text-center text-slate-500 p-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-2 text-slate-400"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
                                ìŠ¤í¬ë¦°ìƒ· 2 ì²¨ë¶€
                            </div>
                        </label>
                        <input type="file" accept="image/*" class="hidden" id="screenshot-input-2">
                    </div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸ” ê²°ê³¼ í•´ì„</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section4-2" placeholder="ì²« ë²ˆì§¸ ìŠ¤í¬ë¦°ìƒ·ì€ ì „ ì„¸ê³„ í•´ì–‘ ì“°ë ˆê¸° ë¶„í¬ë¥¼ ì‹œê°í™”í•œ ê²°ê³¼ì…ë‹ˆë‹¤. ë¶íƒœí‰ì–‘ ì¤‘ì•™(í•˜ì™€ì´ì™€ ë¶ë¯¸ ëŒ€ë¥™ ì‚¬ì´)ì— ì“°ë ˆê¸°ê°€ ì§‘ì¤‘ì ìœ¼ë¡œ ë¶„í¬í•˜ëŠ” ê²ƒì„ ëª…í™•íˆ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” íƒœí‰ì–‘ ê±°ëŒ€ ì“°ë ˆê¸° ì„¬(GPGP)ì˜ ìœ„ì¹˜ì™€ ì¼ì¹˜í•©ë‹ˆë‹¤.&#10;&#10;ë‘ ë²ˆì§¸ ìŠ¤í¬ë¦°ìƒ·ì€ ì¼ë³¸ ë‚¨ë™ìª½ í•´ìƒì—ì„œ ìœ ì¶œëœ ì“°ë ˆê¸°ì˜ 90ì¼ê°„ ì´ë™ ê²½ë¡œë¥¼ ì‹œë®¬ë ˆì´ì…˜í•œ ê²°ê³¼ì…ë‹ˆë‹¤. ì¿ ë¡œì‹œì˜¤ í•´ë¥˜ì˜ ì˜í–¥ì„ ë°›ì•„ ë¶ë™ìª½ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì´ë™í•˜ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ë©°, ì´ëŠ” í•´ë¥˜ê°€ ì“°ë ˆê¸° ì´ë™ì— ë¯¸ì¹˜ëŠ” ì§€ëŒ€í•œ ì˜í–¥ì„ ì§ê´€ì ìœ¼ë¡œ ì¦ëª…í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´, íŠ¹ì • ì§€ì—­ì˜ ì˜¤ì—¼ì´ ë‹¨ê¸°ê°„ì— ì£¼ë³€êµ­ ë° ê³µí•´ìƒìœ¼ë¡œ í™•ì‚°ë  ìˆ˜ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
            
            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">5. í”„ë¡œì íŠ¸ í›„ê¸° ë° ëŠë‚€ ì </h2>
                <h3 class="text-lg font-semibold mt-4 text-slate-700">ğŸ¤” ì§„í–‰ ì¤‘ ì–´ë ¤ì› ë˜ ì ê³¼ í•´ê²° ë°©ë²•</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section5-1" placeholder="* **ì–´ë ¤ì› ë˜ ì **: ì§€ë¦¬ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” `cartopy` ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì„¤ì¹˜ì™€ ì‚¬ìš©ë²•ì´ ìƒì†Œí•˜ì—¬ ì´ˆê¸° í™˜ê²½ ì„¤ì •ì— ë§ì€ ì‹œê°„ì„ ì†Œìš”í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ, ì§€ë„ íˆ¬ì˜ë²•(projection)ì— ëŒ€í•œ ìˆ˜í•™ì  ì´í•´ê°€ ë¶€ì¡±í•˜ì—¬ ì›í•˜ëŠ” í˜•íƒœë¡œ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ë° ì–´ë ¤ì›€ì„ ê²ªì—ˆìŠµë‹ˆë‹¤.&#10;* **í•´ê²° ë°©ë²•**: `cartopy` ê³µì‹ ë¬¸ì„œì˜ ì˜ˆì œ ì½”ë“œë¥¼ í•˜ë‚˜ì”© ì‹¤í–‰í•´ë³´ë©° ê° í•¨ìˆ˜ì˜ ì—­í• ì„ íŒŒì•…í–ˆìŠµë‹ˆë‹¤. ë˜í•œ, 'ë©”ë¥´ì¹´í† ë¥´ ë„ë²•', 'íŒ íˆ¬ì˜ë²•' ë“± ë‹¤ì–‘í•œ ì§€ë„ íˆ¬ì˜ë²•ì˜ ì›ë¦¬ë¥¼ ì¸í„°ë„· ê°•ì˜ë¥¼ í†µí•´ í•™ìŠµí•˜ë©°, ìœ„ë„/ê²½ë„ ë°ì´í„°ë¥¼ ì§€ë„ ì¢Œí‘œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ì´í•´í•˜ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
                <h3 class="text-lg font-semibold mt-6 text-slate-700">ğŸŒ± ì•ìœ¼ë¡œì˜ ê°œì„  ë°©í–¥</h3>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[120px] hidden" id="section5-2" placeholder="í˜„ì¬ì˜ ì´ë™ ì˜ˆì¸¡ ëª¨ë¸ì€ í‰ê·  í•´ë¥˜ë§Œì„ ê³ ë ¤í•œ ë‹¨ìˆœí•œ ëª¨ë¸ì…ë‹ˆë‹¤. í–¥í›„ì—ëŠ” ë°”ëŒì˜ ì˜í–¥, ì¡°ë¥˜, ê³„ì ˆì  ë³€í™” ë“± ë” ë‹¤ì–‘í•œ í™˜ê²½ ë³€ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ë³µì¡í•œ ëª¨ë¸(ì˜ˆ: ë‘ê·¸ë¼ì£¼ ì…ì ì¶”ì  ëª¨ë¸)ì„ êµ¬í˜„í•´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤. ë˜í•œ, `scikit-learn`ì˜ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì§€ì—­ì˜ ë¯¸ë˜ ì“°ë ˆê¸° ë°œìƒëŸ‰ì„ ì˜ˆì¸¡í•˜ê³ , ì´ë¥¼ ì‹œê°í™” ìë£Œì™€ í†µí•©í•˜ì—¬ ë³´ë‹¤ ì¢…í•©ì ì¸ í•´ì–‘ ì˜¤ì—¼ ë¶„ì„ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>

            <section class="report-section p-8 break-inside-avoid">
                <h2 class="text-2xl font-bold text-slate-800 border-b-2 border-slate-200 pb-3 mb-6">6. ì°¸ê³ ìë£Œ</h2>
                <div class="editable-container mt-2">
                    <textarea class="savable markdown-input w-full border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 min-h-[100px] hidden" id="section6-1" placeholder="* NOAA Marine Debris Program. (2023). *Marine Debris Monitoring and Assessment Project (MDMAP) Data*. Retrieved from https://www.fisheries.noaa.gov/west-coast/habitat-conservation/marine-debris-monitoring-and-assessment-project&#10;* SciTools. (2023). *Cartopy: a cartographic python library with a matplotlib interface*. Retrieved from https://scitools.org.uk/cartopy/docs/latest/&#10;* Wes McKinney. (2010). Data Structures for Statistical Computing in Python. *Proceedings of the 9th Python in Science Conference*."></textarea>
                    <div class="markdown-preview prose max-w-none"></div>
                </div>
            </section>
        </div>
        
        <footer class="text-center mt-8 py-6 no-print">
            <div id="validation-message" class="text-red-600 font-semibold mb-4 h-6"></div>
            <button id="export-pdf" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center gap-2 mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                ë³´ê³ ì„œ PDFë¡œ ì €ì¥
            </button>
        </footer>
    </main>

    <div id="autosave-status" class="no-print fixed bottom-6 right-6 flex items-center bg-slate-800 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-500 z-50">
        <svg id="autosave-icon-saving" class="animate-spin h-5 w-5 mr-3 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
        <svg id="autosave-icon-saved" class="h-5 w-5 mr-3 hidden text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
        <span id="autosave-text"></span>
    </div>

    <div id="loader-overlay" class="fixed inset-0 bg-black bg-opacity-60 flex-col items-center justify-center hidden z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl text-center">
            <svg class="animate-spin h-10 w-10 text-blue-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p class="text-lg font-semibold text-slate-700">PDF ìƒì„± ì¤‘...</p>
            <p class="text-sm text-slate-500 mt-1">ë³´ê³ ì„œ ë‚´ìš©ì„ ë³€í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
        </div>
    </div>
    
    <script>
        // Self-contained script for this specific report to ensure stability.
        document.addEventListener('DOMContentLoaded', () => {
            
            const config = {
                storageKey: 'pyProjectData',
                savableSelector: '.savable',
                screenshotCount: 2,
                hasCodeBlock: true
            };
            
            const { storageKey, savableSelector, screenshotCount, hasCodeBlock } = config;
            const converter = new showdown.Converter({ simpleLineBreaks: true, tables: true, strikethrough: true, ghCompatibleHeaderId: true, emoji: true });
            const exportBtn = document.getElementById('export-pdf');
            const autosaveStatusEl = document.getElementById('autosave-status');
            let saveTimer, statusTimer;

            function showSaveStatus(state) {
                if (!autosaveStatusEl) return;
                const textEl = autosaveStatusEl.querySelector('#autosave-text');
                const iconSaving = autosaveStatusEl.querySelector('#autosave-icon-saving');
                const iconSaved = autosaveStatusEl.querySelector('#autosave-icon-saved');
                
                clearTimeout(statusTimer);
                autosaveStatusEl.classList.remove('opacity-0');

                if (state === 'saving') {
                    if(textEl) textEl.textContent = 'ì €ì¥ ì¤‘...';
                    if(iconSaving) iconSaving.classList.remove('hidden');
                    if(iconSaved) iconSaved.classList.add('hidden');
                } else if (state === 'saved') {
                    if(textEl) textEl.textContent = 'ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.';
                    if(iconSaving) iconSaving.classList.add('hidden');
                    if(iconSaved) iconSaved.classList.remove('hidden');
                    statusTimer = setTimeout(() => autosaveStatusEl.classList.add('opacity-0'), 2000);
                }
            }

            function updateMarkdownPreview(textareaElement) {
                if (!textareaElement) return;
                const container = textareaElement.closest('.editable-container');
                if (!container) return;
                const preview = container.querySelector('.markdown-preview');
                if (preview) {
                    const placeholder = '<p class="text-slate-400">ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...</p>';
                    const html = textareaElement.value ? converter.makeHtml(textareaElement.value) : placeholder;
                    preview.innerHTML = html;
                    if(window.renderMathInElement) {
                        renderMathInElement(preview, { delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });
                    }
                }
            }

            function updateCodePreview() {
                if (!hasCodeBlock || typeof hljs === 'undefined') return;
                const textarea = document.getElementById('code-input');
                const preview = document.querySelector('.code-preview');
                if (textarea && preview) {
                    preview.textContent = textarea.value || '// ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”...';
                    delete preview.dataset.highlighted; // FIX for re-highlighting
                    hljs.highlightElement(preview);
                }
            }
            
            function autoResizeTextarea(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = (textarea.scrollHeight) + 'px';
            }

            function saveContent() {
                clearTimeout(saveTimer);
                showSaveStatus('saving');
                saveTimer = setTimeout(() => {
                    const data = {};
                    document.querySelectorAll(savableSelector).forEach(el => {
                        data[el.id] = el.value;
                    });
                    for (let i = 1; i <= screenshotCount; i++) {
                        const img = document.getElementById(`screenshot-preview-${i}`);
                        if (img && img.src && !img.src.includes('placeholder')) {
                            data[`screenshot-preview-${i}`] = img.src;
                        }
                    }
                    localStorage.setItem(storageKey, JSON.stringify(data));
                    showSaveStatus('saved');
                }, 1000);
            }

            function loadContent() {
                const data = JSON.parse(localStorage.getItem(storageKey));
                const textareas = document.querySelectorAll('.markdown-input, #code-input');

                if (!data) {
                    textareas.forEach(el => {
                        // Keep placeholder, do not clear it
                        if(el.id === 'code-input') updateCodePreview();
                        else updateMarkdownPreview(el);
                    });
                    return;
                }

                document.querySelectorAll(savableSelector).forEach(field => {
                    if (data.hasOwnProperty(field.id)) {
                        field.value = data[field.id];
                    }
                });
                
                for (let i = 1; i <= screenshotCount; i++) {
                    if (data[`screenshot-preview-${i}`]) {
                        const preview = document.getElementById(`screenshot-preview-${i}`);
                        const placeholder = document.getElementById(`screenshot-placeholder-${i}`);
                        preview.src = data[`screenshot-preview-${i}`];
                        preview.classList.remove('hidden');
                        if (placeholder) placeholder.classList.add('hidden');
                    }
                }

                textareas.forEach(el => {
                    if(el.id === 'code-input') updateCodePreview();
                    else updateMarkdownPreview(el);
                });
            }

            async function exportToPdf() {
                const loader = document.getElementById('loader-overlay');
                const reportContent = document.getElementById('report-content');
                const validationMessage = document.getElementById('validation-message');
                let allFilled = true;

                if(validationMessage) validationMessage.textContent = '';
                document.querySelectorAll(savableSelector).forEach(el => {
                    el.classList.remove('border-red-400');
                    if (!el.value.trim()) {
                        el.classList.add('border-red-400');
                        allFilled = false;
                    }
                });
                for (let i = 1; i <= screenshotCount; i++) {
                    const img = document.getElementById(`screenshot-preview-${i}`);
                    if (!img) continue;
                    const wrapper = img.closest('.screenshot-wrapper');
                    if (wrapper) {
                         wrapper.classList.remove('border-red-400', 'border-2');
                        if (!img.src || img.src.includes('placeholder')) {
                            wrapper.classList.add('border-red-400', 'border-2', 'rounded-lg');
                            allFilled = false;
                        }
                    }
                }

                if (!allFilled) {
                    if(validationMessage) validationMessage.textContent = 'ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì‘ì„±í•˜ê³  ìŠ¤í¬ë¦°ìƒ·ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”.';
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    return;
                }
                
                if(loader) loader.style.display = 'flex';

                try {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const margin = 15;
                    const contentWidth = pdfWidth - (margin * 2);
                    let yPosition = margin;

                    const sections = Array.from(reportContent.querySelectorAll('.report-section'));

                    for (const section of sections) {
                        const canvas = await html2canvas(section, {
                            scale: 2,
                            useCORS: true,
                            logging: false,
                            onclone: (doc) => {
                                const clonedSection = doc.body.children[0];
                                if (!clonedSection) return;
                                clonedSection.querySelectorAll('.editable-container').forEach(container => {
                                    const editor = container.querySelector('textarea');
                                    const preview = container.querySelector('.markdown-preview, pre');
                                    if(editor) editor.style.display = 'none';
                                    if(preview) preview.style.display = 'block';
                                });
                                if(window.renderMathInElement) {
                                    renderMathInElement(clonedSection, { delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}] });
                                }
                            }
                        });
                        
                        const imgHeight = (canvas.height * contentWidth) / canvas.width;

                        if (yPosition + imgHeight > pdf.internal.pageSize.getHeight() - margin) {
                            pdf.addPage();
                            yPosition = margin;
                        }

                        pdf.addImage(canvas.toDataURL('image/png'), 'PNG', margin, yPosition, contentWidth, imgHeight);
                        yPosition += imgHeight + 5;
                    }

                    const studentId = document.getElementById('student-id').value.trim() || 'í•™ë²ˆ';
                    const studentName = document.getElementById('student-name').value.trim() || 'ì´ë¦„';
                    const docTitle = document.title.split(' ')[0] || 'ë³´ê³ ì„œ';
                    const filename = `${docTitle}_${studentId}_${studentName}.pdf`;
                    pdf.save(filename);

                } catch(error) {
                    console.error("PDF generation error:", error);
                    alert("PDFë¥¼ ìƒì„±í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                } finally {
                    if(loader) loader.style.display = 'none';
                }
            }

            function initialize() {
                document.querySelectorAll('.editable-container').forEach(container => {
                    const preview = container.querySelector('.markdown-preview, pre');
                    const editor = container.querySelector('textarea');

                    if (preview && editor) {
                        preview.addEventListener('click', () => {
                            preview.classList.add('hidden');
                            editor.classList.remove('hidden');
                            editor.focus();
                            autoResizeTextarea(editor);
                        });

                        editor.addEventListener('blur', () => {
                            editor.classList.add('hidden');
                            preview.classList.remove('hidden');
                            
                            if (editor.id === 'code-input' && hasCodeBlock) {
                                updateCodePreview();
                            } else {
                                updateMarkdownPreview(editor);
                            }
                        });
                    }
                });

                document.querySelectorAll(savableSelector).forEach(el => {
                    el.addEventListener('input', () => {
                        saveContent();
                        if (el.tagName === 'TEXTAREA') autoResizeTextarea(el);
                    });
                });

                for (let i = 1; i <= screenshotCount; i++) {
                    const input = document.getElementById(`screenshot-input-${i}`);
                    if (input) {
                        input.addEventListener('change', (event) => {
                            const preview = document.getElementById(`screenshot-preview-${i}`);
                            const placeholder = document.getElementById(`screenshot-placeholder-${i}`);
                            const file = event.target.files[0];
                            if (file) {
                                const reader = new FileReader();
                                reader.onload = (e) => {
                                    preview.src = e.target.result;
                                    preview.classList.remove('hidden');
                                    if (placeholder) placeholder.classList.add('hidden');
                                    saveContent();
                                }
                                reader.readAsDataURL(file);
                            }
                        });
                    }
                }
                
                if (exportBtn) exportBtn.addEventListener('click', exportToPdf);

                loadContent();
            }

            initialize();
        });
    </script>
</body>
</html>

