<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>보고서 빌더</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- Use type="module" to support import/export -->
    <script type="module" src="script.js" defer></script>
</head>
<body class="bg-slate-100">

    <div id="app" class="flex h-screen">
        <!-- Control Panel -->
        <aside class="w-80 bg-white p-6 shadow-lg overflow-y-auto flex flex-col">
            <header class="flex justify-between items-center pb-4 border-b border-slate-200 mb-6">
                <h1 class="text-2xl font-bold text-slate-800">보고서 빌더</h1>
                <button id="reset-builder" class="text-sm text-slate-500 hover:text-red-600 transition-colors" title="빌더 초기화">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M21 21v-5h-5"/></svg>
                </button>
            </header>

            <div class="flex-grow">
                <!-- Global Settings -->
                <div class="space-y-4 mb-8 border-b pb-6">
                    <h2 class="font-semibold text-slate-600">전체 설정</h2>
                     <div>
                        <label for="report-title" class="text-sm font-medium">보고서 제목</label>
                        <input type="text" id="report-title" value="나의 보고서" class="w-full mt-1 p-2 border rounded-md text-sm">
                    </div>
                     <div>
                        <label for="file-name" class="text-sm font-medium">파일 이름</label>
                        <input type="text" id="file-name" value="my-report" class="w-full mt-1 p-2 border rounded-md text-sm">
                    </div>
                    <div>
                        <label for="paper-size" class="text-sm font-medium">용지 사이즈</label>
                        <select id="paper-size" class="w-full mt-1 p-2 border rounded-md text-sm">
                            <optgroup label="A Series"><option value="a0">A0</option><option value="a1">A1</option><option value="a2">A2</option><option value="a3">A3</option><option value="a4" selected>A4</option></optgroup>
                            <optgroup label="B Series"><option value="b4">B4</option><option value="b5">B5</option></optgroup>
                            <optgroup label="기타"><option value="letter">Letter</option><option value="web">웹 최적화</option></optgroup>
                        </select>
                    </div>
                     <div>
                        <label class="text-sm font-medium">테마 색상</label>
                        <div class="flex items-center justify-around mt-2 text-center">
                            <div>
                                <label class="text-xs text-slate-500">배경</label>
                                <div class="color-picker-wrapper mx-auto mt-1" style="background-color: #ffffff;">
                                    <input type="color" id="bg-color" value="#ffffff">
                                </div>
                            </div>
                            <div>
                                <label class="text-xs text-slate-500">테마</label>
                                <div class="color-picker-wrapper mx-auto mt-1" style="background-color: #3b82f6;">
                                    <input type="color" id="theme-color" value="#3b82f6">
                                </div>
                            </div>
                            <div>
                                <label class="text-xs text-slate-500">글자</label>
                                <div class="color-picker-wrapper mx-auto mt-1" style="background-color: #1e293b;">
                                    <input type="color" id="text-color" value="#1e293b">
                                </div>
                            </div>
                            <div>
                                <label class="text-xs text-slate-500">구분선</label>
                                <div class="color-picker-wrapper mx-auto mt-1" style="background-color: #e2e8f0;">
                                    <input type="color" id="border-color" value="#e2e8f0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="font-family" class="text-sm font-medium">기본 글꼴</label>
                        <select id="font-family" class="w-full mt-1 p-2 border rounded-md text-sm">
                            <option value="sans">고딕 (Noto Sans KR)</option>
                            <option value="serif">명조 (Noto Serif KR)</option>
                        </select>
                    </div>
                </div>

                <!-- Components -->
                <div>
                    <h2 class="font-semibold text-slate-600 mb-4">컴포넌트 추가</h2>
                    <div class="grid grid-cols-2 gap-3">
                        <button data-type="h1" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">대제목</button>
                        <button data-type="h2" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">부제목</button>
                        <button data-type="h3" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">중제목</button>
                        <button data-type="h4" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">소제목</button>
                        <button data-type="divider" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">구분선</button>
                        <button data-type="static-markdown" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">자체 설명글</button>
                        <button data-type="markdown" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">마크다운 입력</button>
                        <button data-type="input" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">일반 입력</button>
                        <button data-type="image-upload" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">이미지 입력</button>
                        <button data-type="image-embed" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">이미지 포함</button>
                        <button data-type="code" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">코드 블록</button>
                        <button data-type="group" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm font-semibold">그룹 블록</button>
                        <button data-type="columns-2" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">2단</button>
                        <button data-type="columns-3" class="component-add-btn p-3 bg-slate-50 hover:bg-slate-200 rounded-md text-sm">3단</button>
                        <button data-type="interactive" class="component-add-btn col-span-2 p-3 bg-blue-50 hover:bg-blue-100 rounded-md text-sm text-blue-700 font-semibold">인터랙티브 활동</button>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-auto pt-6 border-t">
                <div id="autosave-status" class="flex items-center text-sm text-slate-500 mb-4 h-5">
                    <svg id="autosave-icon-saving" class="animate-spin h-5 w-5 mr-2 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                    <svg id="autosave-icon-saved" class="h-5 w-5 mr-2 hidden text-green-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                    <span id="autosave-text"></span>
                </div>
                <button id="export-html" class="w-full text-white font-bold py-3 px-4 rounded-lg transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block mr-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    HTML로 내보내기
                </button>
            </div>
        </aside>

        <!-- Preview Panel -->
        <main class="flex-1 p-8 overflow-auto">
            <div id="preview" class="mx-auto shadow-xl p-12 drop-zone">
                <!-- Components will be rendered here -->
            </div>
        </main>
    </div>

</body>
</html>

