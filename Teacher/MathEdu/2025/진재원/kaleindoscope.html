<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë§Œí™”ê²½ ì‹œë®¬ë ˆì´ì…˜</title>
  <link rel="canonical" href="https://jinjw27.github.io/Webpage/kaleindoscope.html" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      color: #e0e0e0;
    }

    .container {
      background: rgba(15, 15, 25, 0.95);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: 1400px;
      width: 100%;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
      font-size: 2.5em;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 30px;
      align-items: start;
    }

    .canvas-wrapper {
      position: relative;
      background: #000;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 0 50px rgba(102, 126, 234, 0.3),
        inset 0 0 30px rgba(0, 0, 0, 0.5);
      border: 2px solid rgba(102, 126, 234, 0.3);
    }

    canvas {
      display: block;
      border-radius: 12px;
      background: #000;
      width: 100%;
      height: auto;
      box-shadow: 0 0 30px rgba(102, 126, 234, 0.2);
    }

    .controls-panel {
      background: rgba(20, 20, 35, 0.8);
      padding: 30px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .control-group {
      margin-bottom: 25px;
    }

    .control-group label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 0.95em;
      color: #b0b0c0;
    }

    .value-display {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 0.9em;
      font-weight: 700;
      color: #fff;
      box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
    }

    input[type="range"] {
      width: 100%;
      height: 6px;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      outline: none;
      border-radius: 5px;
      -webkit-appearance: none;
      box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #fff;
      cursor: pointer;
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(102, 126, 234, 0.8);
      border: 3px solid #667eea;
    }

    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: #fff;
      cursor: pointer;
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(102, 126, 234, 0.8);
      border: 3px solid #667eea;
    }

    .button-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 30px;
    }

    button {
      padding: 14px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      position: relative;
      overflow: hidden;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    button:active {
      transform: translateY(0);
    }

    button.full-width {
      grid-column: 1 / -1;
    }

    .info-box {
      background: rgba(102, 126, 234, 0.1);
      padding: 20px;
      border-radius: 12px;
      margin-top: 25px;
      border-left: 4px solid #667eea;
      border: 1px solid rgba(102, 126, 234, 0.3);
    }

    .info-box h3 {
      color: #667eea;
      margin-bottom: 12px;
      font-size: 1.2em;
    }

    .formula {
      background: rgba(0, 0, 0, 0.4);
      padding: 15px;
      border-radius: 8px;
      font-family: "Courier New", monospace;
      font-size: 1.1em;
      text-align: center;
      color: #fff;
      margin: 15px 0;
      border: 1px solid rgba(102, 126, 234, 0.3);
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
    }

    .info-box ul {
      margin-left: 20px;
      line-height: 1.8;
      color: #c0c0d0;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }

    .stat-card {
      background: rgba(102, 126, 234, 0.15);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      border: 1px solid rgba(102, 126, 234, 0.3);
    }

    .stat-label {
      font-size: 0.85em;
      color: #b0b0c0;
      margin-bottom: 5px;
    }

    .stat-value {
      font-size: 1.8em;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .symmetry-indicator {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 15px;
      padding: 12px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
    }

    .indicator-dot {
      width: 12px;
      height: 12px;
      background: #667eea;
      border-radius: 50%;
      animation: pulse 2s infinite;
      box-shadow: 0 0 15px rgba(102, 126, 234, 0.8);
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.6;
        transform: scale(1.2);
      }
    }

    @media (max-width: 1200px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ”® ë§Œí™”ê²½ ì‹œë®¬ë ˆì´ì…˜</h1>

    <div class="main-content">
      <div class="canvas-wrapper">
        <canvas id="kaleidoscope" width="900" height="900"></canvas>
      </div>

      <div class="controls-panel">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">ê±°ìš¸ ê°ë„</div>
            <div class="stat-value" id="angleDisplay">30Â°</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">ëŒ€ì¹­ ê°œìˆ˜</div>
            <div class="stat-value" id="symmetryDisplay">6</div>
          </div>
        </div>

        <div class="symmetry-indicator">
          <div class="indicator-dot"></div>
          <span>íšŒì „ ëŒ€ì¹­: <strong id="rotationInfo">60Â°</strong></span>
        </div>

        <div class="control-group">
          <label>
            <span>ê±°ìš¸ ê°ë„ (Î¸)</span>
            <span class="value-display" id="angleValue">30Â°</span>
          </label>
          <input type="range" id="angle" min="5" max="90" value="30" step="5" />
        </div>

        <div class="control-group">
          <label>
            <span>ë¬´ëŠ¬ ê°œìˆ˜</span>
            <span class="value-display" id="patternCountValue">8</span>
          </label>
          <input type="range" id="patternCount" min="1" max="30" value="8" />
        </div>

        <div class="control-group">
          <label>
            <span>ë¬´ëŠ¬ í¬ê¸°</span>
            <span class="value-display" id="patternSizeValue">25</span>
          </label>
          <input type="range" id="patternSize" min="10" max="60" value="25" />
        </div>

        <div class="control-group">
          <label>
            <span>íšŒì „ ì†ë„</span>
            <span class="value-display" id="rotationSpeedValue">1.0</span>
          </label>
          <input type="range" id="rotationSpeed" min="0" max="5" value="1" step="0.1" />
        </div>

        <div class="button-group">
          <button onclick="toggleAnimation()">â¯ï¸ ì¬ìƒ/ì •ì§€</button>
          <button onclick="randomizePattern()">ğŸ² ëœë¤</button>
          <button onclick="resetPattern()" class="full-width">
            ğŸ”„ ì´ˆê¸°í™”
          </button>
        </div>

        <div class="info-box">
          <h3>ğŸ“ ìˆ˜í•™ ì›ë¦¬</h3>
          <div class="formula">n = 360Â° / (2Î¸)</div>
          <ul>
            <li>ë‘ ê±°ìš¸ì´ ì´ë£¨ëŠ” ê°: Î¸</li>
            <li>ë°˜ì‚¬ íšŒì „ê°: 2Î¸</li>
            <li>ìƒì„±ë˜ëŠ” ëŒ€ì¹­: nê²¹</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("kaleidoscope");
    const ctx = canvas.getContext("2d");
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;

    let angle = 30;
    let patternCount = 8;
    let patternSize = 25;
    let rotationSpeed = 1;
    let currentRotation = 0;
    let isAnimating = true;
    let patterns = [];

    // ì´ˆê¸° íŒ¨í„´ ìƒì„±
    function initializePatterns() {
      patterns = [];
      for (let i = 0; i < patternCount; i++) {
        patterns.push({
          x: Math.random() * 250 - 125,
          y: Math.random() * 250 - 125,
          color: `hsl(${Math.random() * 360}, ${70 + Math.random() * 30}%, ${50 + Math.random() * 20
            }%)`,
          shape: Math.floor(Math.random() * 4),
          size: patternSize * (0.6 + Math.random() * 0.8),
          rotation: Math.random() * Math.PI * 2,
        });
      }
    }

    // íŒ¨í„´ ê·¸ë¦¬ê¸°
    function drawPattern(x, y, color, shape, size, rotation) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rotation);

      // ê·¸ë¦¼ì íš¨ê³¼
      ctx.shadowColor = color;
      ctx.shadowBlur = 15;

      ctx.fillStyle = color;
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;

      switch (shape) {
        case 0: // ì›
          ctx.beginPath();
          ctx.arc(0, 0, size / 2, 0, Math.PI * 2);
          ctx.fill();
          break;
        case 1: // ì‚¬ê°í˜•
          ctx.fillRect(-size / 2, -size / 2, size, size);
          break;
        case 2: // ì‚¼ê°í˜•
          ctx.beginPath();
          ctx.moveTo(0, -size / 2);
          ctx.lineTo(size / 2, size / 2);
          ctx.lineTo(-size / 2, size / 2);
          ctx.closePath();
          ctx.fill();
          break;
        case 3: // ë³„
          drawStar(0, 0, 5, size / 2, size / 4);
          break;
      }

      ctx.restore();
    }

    function drawStar(cx, cy, spikes, outerRadius, innerRadius) {
      let rot = (Math.PI / 2) * 3;
      let x = cx;
      let y = cy;
      const step = Math.PI / spikes;

      ctx.beginPath();
      ctx.moveTo(cx, cy - outerRadius);

      for (let i = 0; i < spikes; i++) {
        x = cx + Math.cos(rot) * outerRadius;
        y = cy + Math.sin(rot) * outerRadius;
        ctx.lineTo(x, y);
        rot += step;

        x = cx + Math.cos(rot) * innerRadius;
        y = cy + Math.sin(rot) * innerRadius;
        ctx.lineTo(x, y);
        rot += step;
      }

      ctx.lineTo(cx, cy - outerRadius);
      ctx.closePath();
      ctx.fill();
    }

    // ë§Œí™”ê²½ íš¨ê³¼ ê·¸ë¦¬ê¸°
    function drawKaleidoscope() {
      // ë°°ê²½ - ê²€ì€ìƒ‰
      ctx.fillStyle = "#000000";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // ëŒ€ì¹­ ê°œìˆ˜ ê³„ì‚°
      const n = Math.round(360 / (2 * angle));
      const sectorAngle = (Math.PI * 2) / n;

      ctx.save();
      ctx.translate(centerX, centerY);

      // nê°œì˜ ëŒ€ì¹­ ì„¹í„° ê·¸ë¦¬ê¸°
      for (let i = 0; i < n; i++) {
        ctx.save();
        ctx.rotate(i * sectorAngle + (currentRotation * Math.PI) / 180);

        // ê¸°ë³¸ íŒ¨í„´
        patterns.forEach((pattern) => {
          drawPattern(
            pattern.x,
            pattern.y,
            pattern.color,
            pattern.shape,
            pattern.size,
            pattern.rotation
          );
        });

        // ê±°ìš¸ ë°˜ì‚¬ íŒ¨í„´
        ctx.save();
        ctx.scale(-1, 1);
        patterns.forEach((pattern) => {
          drawPattern(
            pattern.x,
            pattern.y,
            pattern.color,
            pattern.shape,
            pattern.size,
            -pattern.rotation
          );
        });
        ctx.restore();

        ctx.restore();
      }

      // ê±°ìš¸ ì„  ê·¸ë¦¬ê¸° (ì„ íƒì )
      ctx.globalAlpha = 0.2;
      ctx.strokeStyle = "#667eea";
      ctx.lineWidth = 2;
      ctx.setLineDash([10, 5]);

      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(450, 0);
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(
        450 * Math.cos((angle * Math.PI) / 180),
        -450 * Math.sin((angle * Math.PI) / 180)
      );
      ctx.stroke();

      ctx.setLineDash([]);
      ctx.globalAlpha = 1;

      ctx.restore();

      // ì¤‘ì‹¬ì 
      ctx.fillStyle = "#667eea";
      ctx.shadowColor = "#667eea";
      ctx.shadowBlur = 20;
      ctx.beginPath();
      ctx.arc(centerX, centerY, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.shadowBlur = 0;
    }

    // ì• ë‹ˆë©”ì´ì…˜
    function animate() {
      if (isAnimating && rotationSpeed > 0) {
        currentRotation += rotationSpeed * 0.5;
        if (currentRotation >= 360) currentRotation -= 360;

        // íŒ¨í„´ë„ ì¡°ê¸ˆì”© íšŒì „
        patterns.forEach((p) => (p.rotation += 0.01));
      }
      drawKaleidoscope();
      requestAnimationFrame(animate);
    }

    // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateUI() {
      const n = Math.round(360 / (2 * angle));
      document.getElementById("angleValue").textContent = angle + "Â°";
      document.getElementById("angleDisplay").textContent = angle + "Â°";
      document.getElementById("symmetryDisplay").textContent = n;
      document.getElementById("rotationInfo").textContent = 2 * angle + "Â°";
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    document.getElementById("angle").addEventListener("input", (e) => {
      angle = parseInt(e.target.value);
      updateUI();
    });

    document.getElementById("patternCount").addEventListener("input", (e) => {
      patternCount = parseInt(e.target.value);
      document.getElementById("patternCountValue").textContent = patternCount;
      initializePatterns();
    });

    document.getElementById("patternSize").addEventListener("input", (e) => {
      patternSize = parseInt(e.target.value);
      document.getElementById("patternSizeValue").textContent = patternSize;
      patterns.forEach(
        (p) => (p.size = patternSize * (0.6 + Math.random() * 0.8))
      );
    });

    document
      .getElementById("rotationSpeed")
      .addEventListener("input", (e) => {
        rotationSpeed = parseFloat(e.target.value);
        document.getElementById("rotationSpeedValue").textContent =
          rotationSpeed.toFixed(1);
      });

    function toggleAnimation() {
      isAnimating = !isAnimating;
    }

    function randomizePattern() {
      initializePatterns();
    }

    function resetPattern() {
      currentRotation = 0;
      angle = 30;
      patternCount = 8;
      patternSize = 25;
      rotationSpeed = 1;

      document.getElementById("angle").value = 30;
      document.getElementById("patternCount").value = 8;
      document.getElementById("patternSize").value = 25;
      document.getElementById("rotationSpeed").value = 1;

      document.getElementById("patternCountValue").textContent = "8";
      document.getElementById("patternSizeValue").textContent = "25";
      document.getElementById("rotationSpeedValue").textContent = "1.0";

      updateUI();
      initializePatterns();
    }

    // ì´ˆê¸°í™”
    initializePatterns();
    updateUI();
    animate();
  </script>
</body>

</html>