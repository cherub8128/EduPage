<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회전하는 사각 물통의 포물선 탐구</title>

    <!-- CSS -->
    <link rel="stylesheet" href="../css/main.css" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Three.js Import Map -->
    <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
    }
  }
  </script>
</head>

<body>

    <a href="../index.html" class="m-back-btn" aria-label="Back">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
    </a>

    <div class="container pt-lg pb-lg">

        <!-- Header -->
        <header class="modern-header">
            <span class="m-badge" style="background:var(--grad-primary); color:white; margin-bottom:1rem;">STEAM
                Project</span>
            <h1>회전하는 사각 물통의 포물선 탐구</h1>
            <p>Physics & Math Integration: 자이로스코프 관측과 수학적 모델링</p>
        </header>

        <main class="m-grid" style="grid-template-columns: 1fr;">

            <!-- Section 1: Overview -->
            <section class="m-card">
                <h2 style="font-size:1.5rem; font-weight:700; margin-bottom:1.5rem; color:var(--text-main);">1. 현상 관찰
                    (Observation)</h2>
                <div class="m-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    <div>
                        <p><strong>연구 배경: 논문 Monteiro et al. (2019)</strong><br>
                            직사각형의 좁은 물통을 회전시킬 때 형성되는 자유수면(Free Surface)의 단면이 용기의 모양과 무관하게 포물선을 이룸을 입증했습니다.</p>
                        <div class="m-card"
                            style="background:var(--bg-element); border:none; padding:1rem; margin-top:1rem;">
                            <ul style="padding-left:1.2rem; margin:0;" class="text-body font-bold">
                                <li>결과: 자유수면 단면 \( z(r) \propto r^2 \)</li>
                                <li>응용: 중력가속도 \( g \) 역추정 가능</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <p><strong>핵심 원리:</strong> 유체가 회전할 때 원심력과 중력의 합력이 수면에 수직으로 작용하여 포물면을 형성합니다. 임계 각속도 \( \omega_c
                            \) 이상에서는 바닥 중심이 드러나는 "Dry Patch" 현상이 발생합니다.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Mathematical Model -->
            <section class="m-card">
                <h2 style="font-size:1.5rem; font-weight:700; margin-bottom:1.5rem; color:var(--text-main);">2. 수학적 모델링
                    (Modeling)</h2>
                <div class="m-grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
                    <div class="prose">
                        <h3 class="text-lg font-bold">힘의 평형 방정식 (Navier-Stokes 단순화)</h3>
                        $$ \nabla p = \rho(\mathbf{g} - \mathbf{a}) $$
                        <p>회전 좌표계에서 반지름 방향(\(r\))과 수직 방향(\(z\))의 압력 구배:</p>
                        $$ \frac{dp}{dr} = \rho \omega^2 r, \quad \frac{dp}{dz} = -\rho g $$
                        <p>이를 적분하여 대기압 조건(\(p=p_{atm}\))을 적용하면 포물선 식을 얻습니다:</p>
                        $$ z(r) = \frac{\omega^2}{2g} r^2 + C $$
                    </div>
                    <div class="m-card" style="background:var(--grad-primary); border:none; color:white;">
                        <h3 style="color:white; margin-bottom:1rem;">직사각형 용기의 부피 보존</h3>
                        <p style="color:rgba(255,255,255,0.9);">회전 전후 물의 부피가 일정하다는 조건(\( \int z dV = V_0 \))을 적용하여 적분 상수
                            \(C\)를 결정합니다.</p>
                        <hr style="border-color:rgba(255,255,255,0.2); margin:1rem 0;">
                        $$ z(r) = H - \frac{\omega^2}{2g} \left(\frac{L^2}{12} - r^2\right) $$
                        <p style="font-size:0.9rem; margin-top:1rem; color:rgba(255,255,255,0.8);">
                            \(H\): 초기 물높이, \(L\): 물통 폭, \(\omega\): 각속도
                        </p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Simulation -->
            <section class="m-card" style="overflow:visible;">
                <h2 style="font-size:1.5rem; font-weight:700; margin-bottom:1.5rem; color:var(--text-main);">3. 인터랙티브
                    시뮬레이션 (Simulation)</h2>

                <div style="display:grid; grid-template-columns: 250px 1fr; gap: 2rem; align-items:start;">
                    <!-- Controls -->
                    <div class="flex flex-col gap-4">
                        <div class="m-card p-4" style="background:var(--bg-element); border:none;">
                            <label class="font-bold text-sm mb-2 block">각속도 \(\omega\) (rad/s)</label>
                            <input id="omegaSlider" type="range" min="0" max="10" step="0.1" value="3"
                                class="w-full mb-2">
                            <input id="omegaInput" type="number" step="0.1" value="3" class="m-input text-right">
                        </div>

                        <div class="m-card p-4" style="background:var(--bg-element); border:none;">
                            <label class="font-bold text-sm mb-2 block">초기 물높이 \(H\) (m)</label>
                            <input id="HSlider" type="range" min="0.02" max="0.15" step="0.005" value="0.08"
                                class="w-full mb-2">
                            <input id="HInput" type="number" step="0.005" value="0.08" class="m-input text-right">
                        </div>

                        <div class="m-card p-4" style="background:var(--bg-element); border:none;">
                            <label class="font-bold text-sm mb-2 block">물통 폭 \(L\) (m)</label>
                            <input id="LSlider" type="range" min="0.1" max="0.5" step="0.01" value="0.25"
                                class="w-full mb-2">
                            <input id="LInput" type="number" step="0.01" value="0.25" class="m-input text-right">
                        </div>

                        <div style="display:none;">
                            <input id="gInput" type="number" value="9.8">
                        </div>

                        <!-- Info Box -->
                        <div id="calcInfo" class="m-card p-4 border-none text-sm"
                            style="background:var(--neutral-900); color:white;">
                            <!-- JS Updated -->
                        </div>
                    </div>

                    <!-- Visualization Area -->
                    <div class="flex flex-col gap-4">
                        <!-- 3D View -->
                        <div
                            class="vis-container w-full h-[400px] border border-gray-200 rounded-xl overflow-hidden relative">
                            <div id="threeContainer" style="width:100%; height:400px;"></div>
                            <span class="m-badge absolute top-4 left-4"
                                style="background:white; box-shadow:var(--shadow-md);">3D Visualization</span>
                            <span class="text-xs text-muted absolute bottom-4 left-4">드래그(회전) / 휠(줌)</span>
                        </div>

                        <!-- 2D Profile -->
                        <div class="vis-container w-full border border-gray-200 rounded-xl p-4 bg-white">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-bold text-sm">2D 단면 프로파일 (r-z Plane)</span>
                                <span class="text-xs text-muted">이론적 예측</span>
                            </div>
                            <canvas id="profileCanvas" width="600" height="200"
                                style="width:100%; height:auto;"></canvas>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="mt-8 text-center text-sm text-muted">
            MathEdu Project &copy; 2025.
        </footer>
    </div>

    <!-- Simulation Logic -->
    <script type="module" src="script.js"></script>

</body>

</html>