<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tractrix Curve íƒêµ¬ ë³´ê³ ì„œ</title>

    <!-- Modern Design System -->
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/components/report.css" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/naen-nae/d2coding/d2coding-subset.css">

    <!-- Libs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        .vis-container {
            background: white;
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        canvas {
            cursor: grab;
        }

        canvas:active {
            cursor: grabbing;
        }
    </style>
</head>

<body>

    <!-- Back Button -->
    <a href="../index.html" class="m-back-btn" aria-label="Back">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
    </a>

    <div class="container pt-lg pb-lg">

        <!-- Header -->
        <header class="modern-header flex justify-between items-end flex-wrap gap-4">
            <div>
                <span class="m-badge mb-2" style="background:var(--grad-primary); color:white;">One-Page Report</span>
                <h1>Tractrix Curve íƒêµ¬</h1>
                <p>ëŒë ¤ê°€ëŠ” ë¬¼ì²´ì˜ ìì·¨: ê²¬ì¸ ê³¡ì„  ë¶„ì„</p>
            </div>
            <div class="flex gap-2 print-hidden">
                <button id="export-pdf" class="m-btn primary small">
                    <span>ğŸ“„ PDF ì €ì¥</span>
                </button>
            </div>
        </header>

        <main class="flex flex-col gap-6">

            <!-- Student Info -->
            <section class="m-card">
                <div class="m-grid" style="grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <label for="student-id" class="font-bold text-sm block mb-1">í•™ë²ˆ</label>
                        <input id="student-id" class="m-input savable" placeholder="ì˜ˆ: 30212">
                    </div>
                    <div>
                        <label for="student-name" class="font-bold text-sm block mb-1">ì´ë¦„</label>
                        <input id="student-name" class="m-input savable" placeholder="ì˜ˆ: í™ê¸¸ë™">
                    </div>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="flex flex-wrap gap-2 print-hidden">
                <a href="#step1" class="m-badge hover:bg-gray-200 cursor-pointer text-decoration-none">Step 1: ì‹¤í—˜</a>
                <a href="#step2" class="m-badge hover:bg-gray-200 cursor-pointer text-decoration-none">Step 2: ëª¨ë¸ë§</a>
                <a href="#step3" class="m-badge hover:bg-gray-200 cursor-pointer text-decoration-none">Step 3: ì‹œë®¬ë ˆì´ì…˜</a>
                <a href="#step4" class="m-badge hover:bg-gray-200 cursor-pointer text-decoration-none">Step 4: ìˆ˜ì‹í™”</a>
                <a href="#step5" class="m-badge hover:bg-gray-200 cursor-pointer text-decoration-none">Step 5: ì‹¬í™”</a>
            </nav>

            <!-- Step 1: Experiment -->
            <section id="step1" class="m-card">
                <h2 class="text-xl font-bold mb-4">Step 1: Tractrix ì‹¤í—˜ ë° ê¶¤ì  ë¶„ì„</h2>
                <div class="m-grid" style="grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <strong class="block mb-2 text-sm text-neutral-600">ì‹¤í—˜ ì‚¬ì§„</strong>
                        <div id="gallery1-drop" class="dropzone p-4">ë“œë˜ê·¸ & ë“œë¡­</div>
                        <div class="flex gap-2 mt-2">
                            <input id="gallery1-input" type="file" accept="image/*" multiple class="hidden">
                            <button id="gallery1-add" class="m-btn small secondary"
                                onclick="document.getElementById('gallery1-input').click()">+ ì¶”ê°€</button>
                            <button id="gallery1-clear" class="m-btn small secondary"
                                onclick="if(confirm('ì‚­ì œ?')) document.getElementById('gallery1').innerHTML=''">ì´ˆê¸°í™”</button>
                        </div>
                        <div id="gallery1" class="gallery-grid"></div>
                    </div>
                    <div>
                        <strong class="block mb-2 text-sm text-neutral-600">Tracker ë¶„ì„ ê²°ê³¼</strong>
                        <div id="gallery2-drop" class="dropzone p-4">ë“œë˜ê·¸ & ë“œë¡­</div>
                        <div class="flex gap-2 mt-2">
                            <input id="gallery2-input" type="file" accept="image/*" multiple class="hidden">
                            <button id="gallery2-add" class="m-btn small secondary"
                                onclick="document.getElementById('gallery2-input').click()">+ ì¶”ê°€</button>
                            <button id="gallery2-clear" class="m-btn small secondary"
                                onclick="if(confirm('ì‚­ì œ?')) document.getElementById('gallery2').innerHTML=''">ì´ˆê¸°í™”</button>
                        </div>
                        <div id="gallery2" class="gallery-grid"></div>
                    </div>
                </div>
                <div class="mt-4">
                    <label class="font-bold text-sm block mb-2">ì‹¤í—˜ ê²°ê³¼ ê´€ì°°</label>
                    <div class="editable-container">
                        <textarea id="observations" class="savable markdown-input"
                            placeholder="- ì†ì„ xì¶• ë”°ë¼ ë‹¹ê¸¸ ë•Œ ì§€ìš°ê°œ ê¶¤ì  ê´€ì°°..."></textarea>
                        <div class="markdown-preview"></div>
                    </div>
                </div>
            </section>

            <!-- Step 2: Hypothesis -->
            <section id="step2" class="m-card">
                <h2 class="text-xl font-bold mb-4">Step 2: ìˆ˜í•™ì  ëª¨ë¸ë§ì„ ìœ„í•œ ê°€ì •</h2>
                <div class="editable-container">
                    <textarea id="assumptions" class="savable markdown-input"
                        placeholder="1. í„¸ì‹¤ ê¸¸ì´ëŠ” ì¼ì •í•˜ë‹¤.&#10;2. ë¬¼ì²´ëŠ” í•­ìƒ ì ‘ì„  ë°©í–¥ìœ¼ë¡œ ì›€ì§ì¸ë‹¤."></textarea>
                    <div class="markdown-preview"></div>
                </div>
            </section>

            <!-- Step 3: Simulation -->
            <section id="step3" class="m-card">
                <h2 class="text-xl font-bold mb-4">Step 3: ìš´ë™ ì‹œë®¬ë ˆì´ì…˜</h2>

                <div class="m-grid" style="grid-template-columns: minmax(300px, 2fr) 1fr; gap: 2rem;">
                    <div class="vis-container">
                        <canvas id="tractrixCanvas" width="500" height="600"></canvas>
                    </div>
                    <div class="flex flex-col gap-4">
                        <div class="p-3 bg-blue-50 text-blue-900 rounded-lg text-sm mb-4">
                            <strong>ì‚¬ìš©ë²•:</strong> ìº”ë²„ìŠ¤ ë‚´ íŒŒë€ ì (ëŒê°œ)ì„ ìœ„ì•„ë˜ë¡œ <strong>ë“œë˜ê·¸</strong>í•˜ì—¬ ë¬¼ì²´(ë¹¨ê°„ ì )ê°€ ë”°ë¼ì˜¤ëŠ” ê¶¤ì ì„ í™•ì¸í•˜ì„¸ìš”.
                        </div>

                        <div>
                            <label class="font-bold text-sm block mb-1">ì¤„ ê¸¸ì´ (L)</label>
                            <div class="flex items-center gap-2">
                                <input id="l-slider" type="range" min="50" max="150" value="100" class="w-full savable">
                                <span id="l-value" class="w-8 text-center font-mono">100</span>
                            </div>
                        </div>
                        <div>
                            <label class="font-bold text-sm block mb-1">ì§„í–‰ ê°ë„ (t)</label>
                            <div class="flex items-center gap-2">
                                <input id="t-slider" type="range" min="5" max="175" value="90" class="w-full savable">
                                <span id="t-value" class="w-12 text-center font-mono">90Â°</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Step 4: Formulation -->
            <section id="step4" class="m-card">
                <h2 class="text-xl font-bold mb-4">Step 4: Tractrix ê³¡ì„  ìˆ˜ì‹í™”</h2>
                <div class="bg-gray-50 p-4 rounded-xl mb-4 text-sm text-neutral-700">
                    <strong class="block mb-2">í•µì‹¬ ë¯¸ë¶„ ë°©ì •ì‹</strong>
                    $$ \frac{dy}{dx} = \pm \frac{\sqrt{L^2 - x^2}}{x} $$
                    <br>
                    <strong class="block mb-2 mt-4">ë§¤ê°œë³€ìˆ˜ ë°©ì •ì‹</strong>
                    $$ x(t) = L \sin t, \quad y(t) = L \left( \ln (\tan \frac{t}{2}) + \cos t \right) $$
                </div>
                <div>
                    <label class="font-bold text-sm block mb-2">ìˆ˜ì‹ ìœ ë„ ê³¼ì •</label>
                    <div class="editable-container">
                        <textarea id="derivation" class="savable markdown-input"
                            placeholder="- í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ì— ì˜í•´..."></textarea>
                        <div class="markdown-preview"></div>
                    </div>
                </div>
            </section>

            <!-- Step 5: Advanced & Conclusion -->
            <section id="step5" class="m-card">
                <h2 class="text-xl font-bold mb-4">Step 5: ì‹¬í™” íƒêµ¬ ë° ê²°ë¡ </h2>
                <div class="space-y-4">
                    <div>
                        <label class="font-bold text-sm block mb-1">íƒêµ¬ ì£¼ì œ (ì˜ˆ: Circular Tractrix)</label>
                        <input id="inquiry-title" class="m-input savable">
                    </div>
                    <div>
                        <label class="font-bold text-sm block mb-1">íƒêµ¬ ë‚´ìš©</label>
                        <div class="editable-container">
                            <textarea id="inquiry-content" class="savable markdown-input"
                                placeholder="íƒêµ¬ ë‚´ìš©..."></textarea>
                            <div class="markdown-preview"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-bold text-sm block mb-1">ê²°ê³¼ ìë£Œ (ìŠ¤í¬ë¦°ìƒ·)</label>
                        <div id="results-gallery-drop" class="dropzone p-4">ë“œë˜ê·¸ & ë“œë¡­</div>
                        <div class="flex gap-2 mt-2">
                            <input id="results-gallery-input" type="file" accept="image/*" multiple class="hidden">
                            <button id="results-gallery-add" class="m-btn small secondary"
                                onclick="document.getElementById('results-gallery-input').click()">+ ì¶”ê°€</button>
                            <button id="results-gallery-clear" class="m-btn small secondary"
                                onclick="if(confirm('ì‚­ì œ?')) document.getElementById('results-gallery').innerHTML=''">ì´ˆê¸°í™”</button>
                        </div>
                        <div id="results-gallery" class="gallery-grid"></div>
                    </div>
                    <div>
                        <label class="font-bold text-sm block mb-1">ê²°ë¡  ë° ì œì–¸</label>
                        <div class="editable-container">
                            <textarea id="inquiry-conclusion" class="savable markdown-input"
                                placeholder="..."></textarea>
                            <div class="markdown-preview"></div>
                        </div>
                    </div>
                    <div>
                        <label class="font-bold text-sm block mb-1">ì°¸ê³  ë¬¸í—Œ</label>
                        <div class="editable-container">
                            <textarea id="references" class="savable markdown-input"
                                placeholder="APA ìŠ¤íƒ€ì¼ë¡œ ì‘ì„±"></textarea>
                            <div class="markdown-preview"></div>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="mt-8 text-center text-sm text-muted print-hidden">
            <div id="autosave-status" class="flex items-center justify-center gap-2 opacity-0 transition-opacity">
                <span id="autosave-icon-saving" class="hidden">ğŸ’¾ ì €ì¥ ì¤‘...</span>
                <span id="autosave-icon-saved" class="text-green-600 hidden">âœ… ì €ì¥ë¨</span>
                <span id="autosave-text"></span>
            </div>
            <p class="mt-4">MathEdu Project 2025.</p>
        </footer>

    </div>

    <!-- Logic -->
    <script type="module" src="script.js"></script>

</body>

</html>