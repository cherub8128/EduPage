<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì»¤í”¼ ì–¼ë£© íƒêµ¬ - í•™ìƒ í™œë™ì§€</title>

    <!-- Modern Design System -->
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/components/report.css" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/naen-nae/d2coding/d2coding-subset.css" />

    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>

    <style>
        .worksheet-section {
            border-bottom: 2px dashed #e5e7eb;
            padding-bottom: 2rem;
            margin-bottom: 2rem;
        }

        .worksheet-section:last-child {
            border-bottom: none;
        }

        .question-box {
            background: #fff;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .question-label {
            display: block;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .hint-text {
            font-size: 0.875rem;
            color: #64748b;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <!-- Back Button -->
    <a href="index.html" class="m-back-btn" aria-label="Back">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
    </a>

    <div class="container pt-lg pb-lg">
        <header class="modern-header mb-8 flex justify-between items-center flex-wrap gap-4">
            <div>
                <div class="mb-2">
                    <span class="m-badge" style="background: var(--brown-600, #78350f); color: white">Student
                        Worksheet</span>
                </div>
                <h1 class="text-3xl font-bold">ì»¤í”¼ ì–¼ë£©(ì»¤í”¼ ë§ íš¨ê³¼) íƒêµ¬</h1>
                <p class="text-neutral-600">
                    ì‹¤í—˜ â†’ ê´€ì°° â†’ ë‹¨ìˆœí™” â†’ ì‹œë®¬ë ˆì´ì…˜ â†’ ë¹„êµ â†’ ìˆ˜ì‹í™”
                </p>
            </div>
            <div class="flex gap-2 print-hidden">
                <button id="export-md" class="m-btn secondary small">
                    <span>ğŸ“ MD ì €ì¥</span>
                </button>
                <button id="export-html" class="m-btn secondary small">
                    <span>ğŸŒ HTML ì €ì¥</span>
                </button>
                <button id="export-pdf" class="m-btn primary small">
                    <span>ğŸ“„ PDF ì €ì¥</span>
                </button>
            </div>
        </header>

        <main class="flex flex-col gap-6">
            <!-- Student Info -->
            <section class="m-card">
                <div class="m-grid" style="grid-template-columns: 1fr 1fr 1fr; gap: 1rem">
                    <div>
                        <label for="student-name" class="font-bold text-sm block mb-1">ì´ë¦„</label>
                        <input id="student-name" class="m-input savable" placeholder="ì´ë¦„" />
                    </div>
                    <div>
                        <label for="student-group" class="font-bold text-sm block mb-1">ì¡°</label>
                        <input id="student-group" class="m-input savable" placeholder="ì˜ˆ: 3ì¡°" />
                    </div>
                    <div>
                        <label for="student-date" class="font-bold text-sm block mb-1">ë‚ ì§œ</label>
                        <input id="student-date" class="m-input savable" placeholder="YYYY-MM-DD" />
                    </div>
                </div>
                <div class="mt-4">
                    <label class="font-bold text-sm block mb-2">ì—­í•  ë¶„ë‹´</label>
                    <div class="flex flex-wrap gap-4">
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="savable" id="role-setup"> ì‹¤í—˜ ì„¸íŒ…
                        </label>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="savable" id="role-drop"> ì•¡ì  íˆ¬ì…
                        </label>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="savable" id="role-cam"> ì´¬ì˜(íƒ€ì„ë©ìŠ¤)
                        </label>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="savable" id="role-analysis"> ì´ë¯¸ì§€/ê·¸ë˜í”„ ë¶„ì„
                        </label>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="savable" id="role-sim"> ì‹œë®¬ë ˆì´ì…˜
                        </label>
                    </div>
                </div>
            </section>

            <!-- 1. Learning Objectives -->
            <section class="m-card worksheet-section">
                <h2 class="text-xl font-bold mb-4">1. í•™ìŠµ ëª©í‘œ</h2>
                <ul class="list-disc pl-5 space-y-2 text-neutral-700">
                    <li>ì»¤í”¼ ë§ì´ ìƒê¸°ëŠ” ì›ì¸ì„ <strong>í•€ë‹ + ì¦ë°œ í”ŒëŸ­ìŠ¤ + ë³´ì¡´ë²•ì¹™</strong>ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.</li>
                    <li>ë§ ì§ˆëŸ‰ \(M(t)\)ë¥¼ ì‹œê°„ì˜ í•¨ìˆ˜ë¡œ ì¸¡ì •í•˜ê³  <strong>ë¡œê·¸â€“ë¡œê·¸ ê·¸ë˜í”„</strong>ë¡œ ë¶„ì„í•  ìˆ˜ ìˆë‹¤.</li>
                    <li>\(M(t)\sim t^{\frac{2}{1+\lambda}}\) í˜•íƒœì˜ ë©±ë²•ì¹™ì„ <strong>ë¯¸ì ë¶„ìœ¼ë¡œ ìœ ë„</strong>í•  ìˆ˜ ìˆë‹¤.</li>
                    <li>ëª¬í…Œì¹´ë¥¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ \(M(t)\)ì˜ ì„±ì¥ ì§€ìˆ˜ë¥¼ ì¬í˜„í•˜ê³  ì‹¤í—˜ê³¼ ë¹„êµí•  ìˆ˜ ìˆë‹¤.</li>
                </ul>
            </section>

            <!-- 3. Experiment Design -->
            <section class="m-card worksheet-section">
                <h2 class="text-xl font-bold mb-4">3. ì‹¤í—˜ ì„¤ê³„ (Experiment)</h2>

                <div class="mb-4">
                    <h3 class="font-bold text-sm mb-2">3.2 ë³€ìˆ˜ ì„¤ì • (ì‹¤í—˜ ê³„íší‘œ)</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-50 border-b">
                                    <th class="p-2 border">ì¡°ê±´ ë²ˆí˜¸</th>
                                    <th class="p-2 border">ê¸°íŒ</th>
                                    <th class="p-2 border">í™˜ê²½(ì„ í’ê¸°/ë®ê°œ ë“±)</th>
                                    <th class="p-2 border">ë†ë„</th>
                                    <th class="p-2 border">ë©”ëª¨</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="p-2 border text-center">1</td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-sub-1"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-env-1"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-conc-1"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-memo-1"></td>
                                </tr>
                                <tr>
                                    <td class="p-2 border text-center">2</td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-sub-2"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-env-2"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-conc-2"></td>
                                    <td class="p-0 border"><input class="w-full h-full p-2 border-none savable"
                                            id="exp-memo-2"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- 4. Observation -->
            <section class="m-card worksheet-section">
                <h2 class="text-xl font-bold mb-4">4. ê´€ì°° (Observation)</h2>
                <div class="m-grid" style="grid-template-columns: 1fr 1fr; gap: 1rem">
                    <div>
                        <label class="font-bold text-sm block mb-1">íƒ€ì„ë©ìŠ¤/ê²°ê³¼ ì‚¬ì§„</label>
                        <div class="dropzone p-8 border-2 border-dashed border-gray-300 rounded text-center text-gray-500 hover:border-amber-500 transition-colors cursor-pointer"
                            id="obs-dropzone">
                            <p>í´ë¦­í•˜ì—¬ ì‚¬ì§„ ì—…ë¡œë“œ</p>
                            <input type="file" id="obs-upload" class="hidden" accept="image/*" multiple>
                        </div>
                        <div id="obs-gallery" class="gallery-grid mt-2"></div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded">
                        <label class="font-bold text-sm block mb-2">ì •ì„± ì²´í¬</label>
                        <div class="space-y-2 text-sm">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="savable" id="chk-ring-clear"> ë§ì´ ëšœë ·í•˜ë‹¤ (ê°€ì¥ìë¦¬ >> ì¤‘ì•™)
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="savable" id="chk-center-dep"> ì¤‘ì•™ì—ë„ ì¹¨ì „ì´ ë§ë‹¤
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="savable" id="chk-cond-diff"> ì¡°ê±´ì— ë”°ë¼ ê°•ë„ ì°¨ì´ê°€ ìˆë‹¤
                            </label>
                        </div>
                        <div class="mt-4">
                            <label class="block text-xs font-bold mb-1">ì•¡ì  ë°˜ì§€ë¦„ \(R\) (mm)</label>
                            <input class="m-input savable" id="obs-radius" placeholder="ì¸¡ì •ê°’ ì…ë ¥">
                        </div>
                    </div>
                </div>
            </section>

            <!-- 5 & 6. Quantitative Analysis -->
            <section class="m-card worksheet-section">
                <h2 class="text-xl font-bold mb-4">5 & 6. ì •ëŸ‰ ë¶„ì„: ì„±ì¥ ì§€ìˆ˜ \(p\) ì¶”ì •</h2>

                <div class="question-box">
                    <label class="question-label">ë¡œê·¸-ë¡œê·¸ ê·¸ë˜í”„ ë¶„ì„</label>
                    <p class="hint-text">
                        ì´ˆê¸° êµ¬ê°„ì—ì„œ \(M(t) \propto t^p\)ë¼ë©´ \(\log M = p \log t + C\) ì…ë‹ˆë‹¤.<br>
                        ë°ì´í„°ë¥¼ ì…ë ¥í•˜ì—¬ \(p\)ë¥¼ ì¶”ì •í•´ë³´ì„¸ìš”.
                    </p>
                    <div class="m-grid" style="grid-template-columns: 1fr 1fr; gap: 1rem">
                        <textarea id="data-input" class="savable m-input font-mono text-sm h-32"
                            placeholder="t(ì´ˆ), M(í”½ì…€í•©)&#10;10, 500&#10;20, 1200&#10;30, 2100..."></textarea>
                        <div>
                            <label class="block text-xs font-bold mb-1">ì¶”ì •ëœ ê¸°ìš¸ê¸° \(p\)</label>
                            <input class="m-input savable w-full" id="est-slope" placeholder="ì§ì ‘ ê³„ì‚° ë˜ëŠ” ë„êµ¬ í™œìš©">

                            <label class="block text-xs font-bold mt-2 mb-1">íšŒê·€ê°€ ì˜ ì•ˆ ë§ëŠ” ì´ìœ ?</label>
                            <div class="space-y-1 text-xs">
                                <label><input type="checkbox" class="savable" id="reason-early"> ë§¤ìš° ì´ˆê¸° (ê³¼ë„ê¸°)</label><br>
                                <label><input type="checkbox" class="savable" id="reason-fast"> ë¹ ë¥¸ ì¦ë°œ (Surface
                                    capture)</label><br>
                                <label><input type="checkbox" class="savable" id="reason-pinning"> í•€ë‹ ì•½í•¨ (R ê°ì†Œ)</label>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 7. Derivation (Math) -->
            <section class="m-card worksheet-section">
                <h2 class="text-xl font-bold mb-4">7. ìˆ˜ì‹í™” (ì¦ëª… ê³¼ì œ)</h2>
                <div class="p-4 bg-blue-50 text-blue-900 rounded mb-4 text-sm">
                    <strong>ëª©í‘œ:</strong> \(M(t) \sim t^{\frac{2}{1+\lambda}}\) ìœ ë„í•˜ê¸°
                </div>

                <div class="question-box">
                    <label class="question-label">Step 1. í‰ê·  ìœ ì† \(\bar{v} \sim (R-r)^{-\lambda}\)</label>
                    <p class="hint-text">
                        \(\int_0^x s^{-\lambda} ds \sim x^{1-\lambda}\) ì´ê³  \(h \sim x\) ì„ì„ ì´ìš©í•˜ì„¸ìš”.
                    </p>
                    <div class="editable-container">
                        <textarea id="math-step1" class="savable m-input w-full h-24"
                            placeholder="ì¦ëª… ê³¼ì • ì„œìˆ ..."></textarea>
                    </div>
                </div>

                <div class="question-box">
                    <label class="question-label">Step 2. ë„ë‹¬ ì‹œê°„ \(t \sim x^{1+\lambda}\)</label>
                    <div class="editable-container">
                        <textarea id="math-step2" class="savable m-input w-full h-16"
                            placeholder="ì¦ëª… ê³¼ì • ì„œìˆ ..."></textarea>
                    </div>
                </div>

                <div class="question-box">
                    <label class="question-label">Step 3 & 4. ê²°ë¡  \(M(t) \sim t^{\frac{2}{1+\lambda}}\)</label>
                    <p class="hint-text">
                        \(M \sim x^2\) (ë¶€í”¼ ì ë¶„) ì‚¬ì‹¤ê³¼ ìœ„ ì‹œê°„ ê´€ê³„ë¥¼ ê²°í•©í•˜ì„¸ìš”.
                    </p>
                    <div class="editable-container">
                        <textarea id="math-step3" class="savable m-input w-full h-24" placeholder="ìµœì¢… ìœ ë„..."></textarea>
                    </div>
                </div>
            </section>

            <!-- 8 & 9. Simulation & Conclusion -->
            <section class="m-card">
                <h2 class="text-xl font-bold mb-4">8 & 9. ì‹œë®¬ë ˆì´ì…˜ ë¹„êµ ë° ê²°ë¡ </h2>

                <div class="border rounded p-4 mb-4">
                    <table class="w-full text-sm">
                        <tr class="border-b">
                            <th class="p-2 text-left bg-gray-50">í•­ëª©</th>
                            <th class="p-2 bg-gray-50">ì‹¤í—˜ê°’</th>
                            <th class="p-2 bg-gray-50">ì‹œë®¬ë ˆì´ì…˜/ì´ë¡ ê°’</th>
                        </tr>
                        <tr>
                            <td class="p-2 font-bold">ì„±ì¥ ì§€ìˆ˜ \(p\)</td>
                            <td class="p-2"><input class="m-input savable w-full" id="comp-exp-p"></td>
                            <td class="p-2"><input class="m-input savable w-full" id="comp-sim-p"></td>
                        </tr>
                    </table>
                </div>

                <div class="question-box">
                    <label class="question-label">ê²°ë¡  ë° ì œì–¸ (ë©”ëª¨)</label>
                    <textarea id="final-memo" class="savable m-input w-full h-24"
                        placeholder="ì˜¤ëŠ˜ ì–»ì€ ê°€ì¥ ì¤‘ìš”í•œ ê¹¨ë‹¬ìŒì€?"></textarea>
                </div>
            </section>
        </main>

        <footer class="mt-12 mb-8 text-center text-sm text-neutral-400">
            <div id="autosave-status" class="flex items-center justify-center gap-2 opacity-0 transition-opacity mb-2">
                <span id="autosave-icon-saving" class="hidden">ğŸ’¾ ì €ì¥ ì¤‘...</span>
                <span id="autosave-icon-saved" class="text-green-600 hidden">âœ… ì €ì¥ë¨</span>
                <span id="autosave-text"></span>
            </div>
            MathEdu Project - Coffee Stain Student Worksheet
        </footer>
    </div>

    <!-- Script imports -->
    <script type="module">
        import { ReportManager } from '../js/report-core.js';

        const report = new ReportManager('coffee_stain_worksheet');
        report.init();
        report.initGallery('obs-gallery', 'obs-upload', 'obs-dropzone');
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "\\(", right: "\\)", display: false }
                ]
            });
        });
    </script>
</body>

</html>