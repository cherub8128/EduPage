<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini AI 물리 게임 제작 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .step { scroll-margin-top: 80px; }
        .prompt-block { position: relative; }
        .copy-button { position: absolute; top: 0.8rem; right: 0.8rem; background-color: #4A5568; color: white; padding: 0.25rem 0.6rem; border-radius: 0.375rem; font-size: 0.8rem; cursor: pointer; transition: background-color 0.2s; }
        .copy-button:hover { background-color: #2D3748; }
        .copy-button.copied { background-color: #2F855A; }
        .user-input { background-color: #FEF3C7; border: 1px dashed #FBBF24; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; }
        .highlight-note { background-color: #E6FFFA; border-left: 4px solid #38B2AC; padding: 1rem; margin-top: 1rem; font-size: 0.9rem; color: #234E52; }
        .modal-card { transition: transform 0.2s, box-shadow 0.2s; }
        .modal-card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="theme-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col">
            <div class="p-5 border-b flex justify-between items-center sticky top-0 bg-white rounded-t-2xl">
                <h2 class="text-xl font-bold text-slate-800">추천 게임 주제 (하나를 선택하여 프롬프트를 복사하세요)</h2>
                <button id="close-modal-btn" class="text-3xl font-light text-slate-500 hover:text-slate-800">&times;</button>
            </div>
            <div id="theme-grid" class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 overflow-y-auto">
                </div>
        </div>
    </div>


    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        <header class="text-center my-8 md:my-12">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-slate-900">Gemini AI 물리 게임 제작 가이드</h1>
            <p class="mt-4 text-base sm:text-lg text-slate-600">Pygame부터 JavaScript 배포까지, Gemini와 함께하는 AI 게임 개발 여정</p>
        </header>
        
        <section class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">전체 프로세스 개요</h2>
            <p class="mb-6 text-slate-700">다음 10가지 단계로 아이디어를 현실로 만듭니다. 프로젝트 설정부터 시작하여 Git/VS Code를 이용한 배포까지 다룹니다.</p>
            <ol class="list-decimal list-inside space-y-3 text-slate-700">
                <li><strong class="font-semibold text-slate-800">프로젝트 설정:</strong> 개발을 시작할 폴더 생성 및 VS Code로 열기</li>
                <li><strong class="font-semibold text-slate-800">게임 아이디어 구체화:</strong> 상세한 게임 기획안 작성</li>
                <li><strong class="font-semibold text-slate-800">Pygame 게임 및 Gymnasium 환경 통합 제작:</strong> AI 학습과 사용자 플레이가 모두 가능한 통합 Python 파일 제작</li>
                <li><strong class="font-semibold text-slate-800">SB3 모델 학습:</strong> Gymnasium 환경에서 강화학습 에이전트 학습</li>
                <li><strong class="font-semibold text-slate-800">학습된 모델 테스트:</strong> Pygame 환경에서 학습된 에이전트의 성능 시각화</li>
                <li><strong class="font-semibold text-slate-800">ONNX 모델 변환:</strong> 학습된 모델을 웹 환경에 맞는 ONNX 형식으로 변환</li>
                <li><strong class="font-semibold text-slate-800">JavaScript 웹 게임 구현:</strong> ONNX 모델을 불러와 AI 플레이를 시각화하는 웹 게임 제작</li>
                <li><strong class="font-semibold text-slate-800">로컬 환경에서 웹 게임 테스트:</strong> 배포 전, 내 컴퓨터에서 웹 게임 최종 확인</li>
                <li><strong class="font-semibold text-slate-800">VS Code와 Git으로 GitHub Pages에 배포:</strong> 완성된 웹 게임을 전 세계에 무료로 배포</li>
                <li><strong class="font-semibold text-slate-800">마치며:</strong> 다음 단계로 나아가기</li>
            </ol>
        </section>

        <section id="step1" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 1: 프로젝트 설정</h2>
            <p class="mb-4 text-slate-700">모든 작업은 하나의 프로젝트 폴더 안에서 이루어집니다. 이 폴더는 앞으로 만들 모든 코드와 파일을 담는 공간이 됩니다.</p>
            <div class="user-input">
                <h3 class="font-semibold text-lg text-slate-800 mb-2">프로젝트 폴더 생성 및 열기</h3>
                <ol class="list-decimal list-inside space-y-2 text-sm text-slate-700">
                    <li>컴퓨터의 원하는 위치에 <code class="bg-amber-200 px-1 rounded">ai-game-project</code>와 같이 프로젝트를 알아보기 쉬운 이름으로 새 폴더를 만듭니다.</li>
                    <li>Visual Studio Code를 실행하고, '파일(File)' &rarr; '폴더 열기(Open Folder)...' 메뉴를 통해 방금 만든 프로젝트 폴더를 엽니다.</li>
                    <li>이제부터 생성하는 모든 파일(<code class="bg-amber-200 px-1 rounded">game_env.py</code>, <code class="bg-amber-200 px-1 rounded">index.html</code> 등)은 이 폴더 안에 저장됩니다.</li>
                </ol>
            </div>
        </section>

        <section id="step2" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 2: 게임 아이디어 구체화하기</h2>
            <p class="mb-4 text-slate-700">'추천 주제 보기' 버튼을 눌러 영감을 얻고, 마음에 드는 주제를 선택하여 상세 기획안을 요청하는 프롬프트를 복사하세요.</p>
            <button id="open-modal-btn" class="mb-6 bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors">🎮 추천 주제 보기 & 영감 얻기</button>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code id="step1-prompt-code" class="language-text">You are a creative game designer. Based on the theme "[여기에 선택한 게임 주제와 간단한 설명을 입력하세요. 예: 로켓 착륙시키기: 좌우 및 메인 추력을 사용해, 화면 상단에서 떨어지는 로켓이 정해진 착륙 지점에 부드럽게 착륙하는 게임]", please develop a detailed and engaging game plan.

The plan must be structured with the following four sections:

1.  **Game Concept:** A brief, exciting one-paragraph summary of the game.
2.  **Player Objective:** A clear description of what the player needs to accomplish.
3.  **Controls:** A simple and intuitive control scheme.
4.  **Win/Loss Conditions:** Specific, measurable conditions for success and failure.

Write the plan in Korean.</code></pre>
            </div>
        </section>

        <section id="step3" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 3: Pygame 게임 및 Gymnasium 환경 통합 제작</h2>
            <p class="mb-6 text-slate-700">게임 기획안을 바탕으로 AI 학습과 사용자 플레이가 모두 가능한 통합 Python 파일을 제작합니다. 2단계 기획안을 아래에 붙여넣으면 프롬프트가 완성됩니다.</p>
            <div class="user-input">
                <h3 class="font-semibold text-lg text-slate-800 mb-2">게임 로직 기획</h3>
                <textarea id="game-logic-textarea" rows="8" class="w-full p-2 border border-amber-300 rounded-md bg-white text-sm" placeholder="이곳에 2단계에서 생성된 게임 기획안(콘셉트, 목표, 조작법, 성공/실패 조건)을 붙여넣으세요."></textarea>
            </div>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code id="step2-prompt-code" class="language-text">You are an expert Python developer specializing in both game development with Pygame and Reinforcement Learning with Gymnasium.

Your task is to create a single, complete Python script based on the provided game plan. This file must serve two purposes: be a playable game for humans when run directly, and be an importable, AI-trainable environment for RL agents.

### Game Logic Plan
[여기에 위 '게임 로직 기획' 입력란의 내용을 붙여넣으세요.]

### MANDATORY REQUIREMENTS:

1.  **Single File Structure:** All code (Pygame logic, Gymnasium environment) must be in one single Python file.

2.  **Standardized Naming (CRITICAL):**
    * The Gymnasium environment class **MUST** be named `GameEnv`. This ensures compatibility with subsequent training scripts.

3.  **Dual-Mode Execution (CRITICAL):**
    * The script must use an `if __name__ == "__main__":` block.
    * When the script is run directly (`python your_file_name.py`), this block should execute a "human player" mode.
    * This mode should instantiate `GameEnv(render_mode='human')` and run a game loop where a human can play using the keyboard, allowing for immediate testing of the game mechanics.

4.  **Gymnasium `GameEnv` Class:**
    * **Observation/Action Spaces:** Analyze the game logic to define the most effective `observation_space` (Box) and `action_space` (Discrete).
    * **Reward Function:** Design a precise reward function that strongly incentivizes the desired agent behavior.
    * **Core Methods:** Correctly implement `__init__`, `reset`, `step`, `render`, and `close`.
    * **No Physics Libraries:** Implement all physics from scratch (position, velocity, gravity, collision) using pure Python.

5.  **Visual Design (Hyper-Casual Aesthetic):**
    * The game must be minimalist, clean, and visually satisfying with a bright, harmonious color palette.
    * Use anti-aliased geometric shapes and smooth, "juicy" animations for feedback. The window size should be 800x600.

6.  **Code Quality:**
    * The code must be well-commented, follow Python best practices, and be fully runnable without errors.</code></pre>
            </div>
            <div class="user-input mt-6">
                <h3 class="font-semibold text-lg text-slate-800 mb-2">실행 및 다음 단계 준비</h3>
                <p class="text-sm text-slate-600">Gemini가 생성한 코드를 <code class="bg-amber-200 px-1 rounded">game_env.py</code> 라는 이름으로 저장하세요. 터미널에서 <code class="bg-amber-200 px-1 rounded">python game_env.py</code>를 실행하여 사람 플레이 모드로 게임을 직접 테스트해볼 수 있습니다.</p>
            </div>
        </section>

        <section id="step4" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 4: SB3로 모델 학습</h2>
            <p class="mb-6 text-slate-700">`game_env.py` 파일을 사용하여 강화학습 에이전트를 학습시킵니다. 아래 코드를 <code class="bg-amber-200 px-1 rounded">train.py</code> 파일로 저장하고 실행하세요. 코드 수정이 필요 없습니다.</p>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code class="language-python"># train.py
import os, time
from stable_baselines3 import PPO
from stable_baselines3.common.callbacks import CheckpointCallback
from stable_baselines3.common.logger import configure
from stable_baselines3.common.vec_env import DummyVecEnv
from gymnasium import spaces
from game_env import GameEnv 

TOTAL_TIMESTEPS = 1_000_000
CHECKPOINT_FREQ = 10_000
LOG_DIR = "sb3_logs"
CHECKPOINT_DIR = os.path.join(LOG_DIR, "checkpoints")

def find_latest_checkpoint():
    if not os.path.exists(CHECKPOINT_DIR): return None
    checkpoints = [f for f in os.listdir(CHECKPOINT_DIR) if f.startswith("rl_model_") and f.endswith(".zip")]
    if not checkpoints: return None
    latest_checkpoint = max(checkpoints, key=lambda f: int(f.split("_")[2].replace(".zip", "")))
    return os.path.join(CHECKPOINT_DIR, latest_checkpoint)

def main():
    os.makedirs(CHECKPOINT_DIR, exist_ok=True)
    env = DummyVecEnv([lambda: GameEnv(render_mode=None)])
    obs_space = env.observation_space
    policy = "CnnPolicy" if isinstance(obs_space, spaces.Box) and len(obs_space.shape) == 3 else "MlpPolicy"
    print(f"자동 선택된 정책: {policy}")
    latest_checkpoint = find_latest_checkpoint()
    if latest_checkpoint:
        print(f"최신 체크포인트에서 학습을 재개합니다: {latest_checkpoint}")
        model = PPO.load(latest_checkpoint, env=env)
        log_name = os.path.basename(os.path.dirname(os.path.dirname(latest_checkpoint)))
        run_path = os.path.join(LOG_DIR, log_name)
        custom_logger = configure(run_path, ["stdout", "tensorboard"])
        model.set_logger(custom_logger)
    else:
        print("새로운 학습을 시작합니다.")
        log_name = f"PPO_{int(time.time())}"
        run_path = os.path.join(LOG_DIR, log_name)
        custom_logger = configure(run_path, ["stdout", "tensorboard"])
        model = PPO(policy, env, verbose=1, tensorboard_log=None)
        model.set_logger(custom_logger)
    checkpoint_callback = CheckpointCallback(save_freq=CHECKPOINT_FREQ, save_path=CHECKPOINT_DIR, name_prefix="rl_model")
    try:
        model.learn(total_timesteps=TOTAL_TIMESTEPS, callback=checkpoint_callback, reset_num_timesteps=False)
        model.save(os.path.join(LOG_DIR, "final_model.zip"))
        print(f"학습 완료! 최종 모델이 {os.path.join(LOG_DIR, 'final_model.zip')}에 저장되었습니다.")
    finally:
        env.close()

if __name__ == '__main__': main()
</code></pre>
            </div>
        </section>

        <section id="step5" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 5: 학습된 모델 테스트</h2>
            <p class="mb-6 text-slate-700">학습된 에이전트의 성능을 시각적으로 확인합니다. 아래 코드를 <code class="bg-amber-200 px-1 rounded">test_model.py</code>로 저장하고 실행하세요.</p>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code class="language-python"># test_model.py
from stable_baselines3 import PPO
from game_env import GameEnv

MODEL_PATH = "sb3_logs/final_model.zip"
NUM_EPISODES = 10

def main():
    env = GameEnv(render_mode='human')
    model = PPO.load(MODEL_PATH, env=env)
    print(f"{MODEL_PATH} 모델 테스트 시작.")
    for episode in range(1, NUM_EPISODES + 1):
        obs, info = env.reset()
        done, total_reward = False, 0
        while not done:
            action, _ = model.predict(obs, deterministic=True)
            obs, reward, terminated, truncated, info = env.step(action)
            total_reward += reward
            done = terminated or truncated
        print(f"에피소드 {episode}: 총 보상 = {total_reward:.2f}")
    env.close()
    print("테스트 완료.")

if __name__ == '__main__': main()
</code></pre>
            </div>
        </section>

        <section id="step6" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 6: ONNX 모델 변환</h2>
            <p class="mb-6 text-slate-700">학습된 모델을 웹에서 사용 가능한 ONNX 형식으로 변환합니다. 아래 코드를 <code class="bg-amber-200 px-1 rounded">convert_onnx.py</code>로 저장하고 실행하세요.</p>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code class="language-python"># convert_onnx.py
import torch, onnxruntime as ort, numpy as np
from stable_baselines3 import PPO
from game_env import GameEnv

MODEL_PATH = "sb3_logs/final_model.zip"
ONNX_PATH = "model.onnx"

class OnnxablePolicy(torch.nn.Module):
    def __init__(self, policy): super().__init__(); self.policy = policy
    def forward(self, observation): action, _ = self.policy.predict(observation, deterministic=True); return torch.from_numpy(action)

def main():
    model = PPO.load(MODEL_PATH, device='cpu')
    onnxable_model = OnnxablePolicy(model.policy)
    env = GameEnv(render_mode=None)
    dummy_input = torch.randn(1, *env.observation_space.shape)
    env.close()
    torch.onnx.export(onnxable_model, dummy_input, ONNX_PATH, opset_version=12, input_names=["observation"], output_names=["action"])
    print(f"ONNX 변환 완료: {ONNX_PATH}")
    print("\n--- ONNX 모델 검증 ---")
    try:
        ort_session = ort.InferenceSession(ONNX_PATH)
        input_name, output_name = ort_session.get_inputs()[0].name, ort_session.get_outputs()[0].name
        result = ort_session.run([output_name], {input_name: dummy_input.numpy().astype(np.float32)})
        print(f"검증 성공! 입력 shape: {dummy_input.numpy().shape}, 출력 action: {result[0]}")
    except Exception as e: print(f"검증 실패: {e}")

if __name__ == '__main__': main()
</code></pre>
            </div>
        </section>
        
        <section id="step7" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 7: JavaScript 웹 게임 구현</h2>
            <p class="mb-6 text-slate-700">AI의 플레이를 볼 수 있는 웹 페이지를 만듭니다. `game_env.py`의 시각적 디자인을 재현하고 AI 모델을 실행합니다.</p>
             <div class="user-input">
                <h3 class="font-semibold text-lg text-slate-800 mb-2">필요한 정보 준비</h3>
                <p class="text-sm text-slate-600">`game_env.py` 파일을 열어 `GameEnv` 클래스에 정의된 `observation_space`의 구조와 순서를 복사한 후, 아래 프롬프트의 `[ ]` 안에 정확히 붙여넣으세요.</p>
            </div>
            <div class="prompt-block">
                <button class="copy-button">복사</button>
                <pre class="bg-slate-100 text-slate-800 p-4 rounded-lg overflow-x-auto text-sm"><code class="language-text">You are a senior front-end developer and a top-tier digital artist, skilled in JavaScript, HTML5 Canvas, and AI model integration. Your task is to create a single, self-contained `index.html` file that is a visually stunning, minimalist web game powered by a local `model.onnx` file.

### Reference Information
* **Artistic Vision:** Replicate the artistic vision of the Python game: a clean, minimalist, and visually satisfying hyper-casual aesthetic.
* **Observation Space Structure:** [여기에 단계 3에서 Gemini가 정의한 관측 공간의 구조와 순서를 정확히 붙여넣으세요. (예: `[pos_x, pos_y, vel_x, vel_y, angle, ang_vel, dist_to_pad]`)]

### Requirements:
1.  **Game Replication:** Recreate the game's core mechanics and visuals using HTML5 Canvas and plain JavaScript. Do not use a physics library. The logic must be consistent with the Python implementation's coordinate system.
2.  **Visual Design:** Center the canvas. Replicate the sophisticated visual style: a bright, inviting color palette; simple, anti-aliased geometric shapes; and bouncy, satisfying animations for feedback, powered by `requestAnimationFrame`. Implement a clean loading indicator.
3.  **AI Integration:** Include `onnxruntime-web` via CDN and asynchronously load the local `model.onnx`.
4.  **State and Action Fidelity (CRITICAL):**
    * The observation passed to the model MUST be a `Float32Array`.
    * The ORDER of elements in the JS observation array MUST EXACTLY MATCH the Python environment's `observation_space`.
    * The normalization method used in JS MUST BE IDENTICAL to the normalization logic in the Python `step()` function.
    * The mapping of the model's output to a game action in JavaScript MUST PERFECTLY MIRROR the `action_space` definition in the Python environment.</code></pre>
            </div>
        </section>

        <section id="step8" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 8: 로컬 환경에서 웹 게임 테스트하기</h2>
            <p class="mb-6 text-slate-700">웹 게임을 인터넷에 올리기 전, 내 컴퓨터에서 먼저 실행하여 문제가 없는지 확인합니다. 간단한 로컬 서버를 사용하면 `model.onnx` 같은 외부 파일을 정상적으로 불러올 수 있습니다.</p>
            <div class="space-y-4 text-slate-700">
                <div><h3 class="font-semibold text-lg text-slate-800">1. 로컬 서버 실행 (Python 필요)</h3><p class="mt-1 ml-2">VS Code의 터미널(보기 &rarr; 터미널)에서 아래 명령어를 실행합니다.</p><pre class="bg-slate-100 text-slate-800 p-2 mt-1 rounded-md text-sm"><code>python -m http.server</code></pre></div>
                <div><h3 class="font-semibold text-lg text-slate-800">2. 브라우저에서 확인</h3><p class="mt-1 ml-2">웹 브라우저에서 <a href="http://localhost:8000" target="_blank" class="text-amber-600 underline">http://localhost:8000</a> 으로 접속하여 AI 웹 게임이 정상 실행되는지 확인하세요.</p></div>
            </div>
        </section>

        <section id="step9" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">단계 9: VS Code와 Git으로 GitHub Pages에 배포하기</h2>
            <p class="mb-6 text-slate-700">이제 완성된 프로젝트를 VS Code에서 바로 GitHub에 올리고, GitHub Pages를 통해 전 세계에 배포합니다.</p>
            
            <div class="space-y-6 text-slate-700">
                <div>
                    <h3 class="font-semibold text-lg text-slate-800">1. 사전 준비: Git 설치 및 설정</h3>
                    <p class="mt-1 ml-2">Git이 설치되어 있지 않다면 <a href="https://git-scm.com/" target="_blank" class="text-amber-600 underline">git-scm.com</a>에서 다운로드하여 설치합니다. 설치 후, Git Bash나 VS Code 터미널을 열어 아래 명령어를 입력하여 사용자 정보를 설정합니다 (최초 한 번만 필요).</p>
                    <pre class="bg-slate-100 text-slate-800 p-2 mt-1 rounded-md text-sm"><code>git config --global user.name "Your Name"
git config --global user.email "you@example.com"</code></pre>
                </div>

                <div>
                    <h3 class="font-semibold text-lg text-slate-800">2. VS Code에서 GitHub 계정 연동</h3>
                    <p class="mt-1 ml-2">VS Code 왼쪽 하단의 사람 모양 아이콘(계정)을 클릭하고, 'GitHub으로 로그인(Sign in with GitHub)'을 선택하여 브라우저의 안내에 따라 계정을 연동합니다.</p>
                </div>

                <div>
                    <h3 class="font-semibold text-lg text-slate-800">3. Git 저장소 초기화 및 첫 커밋</h3>
                    <p class="mt-1 ml-2">VS Code 왼쪽의 '소스 제어' 탭(가지 모양 아이콘)으로 이동하여 '리포지토리 초기화(Initialize Repository)' 버튼을 클릭합니다. 그 후, 상단의 메시지 입력란에 "Initial commit"과 같은 첫 커밋 메시지를 작성한 후 ✓ 커밋 버튼을 눌러 커밋합니다.</p>
                </div>

                <div>
                    <h3 class="font-semibold text-lg text-slate-800">4. GitHub에 게시하기</h3>
                    <p class="mt-1 ml-2">'소스 제어' 탭에 나타나는 '게시(Publish Branch)' 버튼을 클릭합니다. VS Code가 GitHub에 저장소를 만드는 과정을 안내합니다. 저장소 이름을 정하고, <strong>반드시 '공개(Public)' 저장소로 설정</strong>해야 GitHub Pages를 무료로 사용할 수 있습니다.</p>
                </div>

                <div>
                    <h3 class="font-semibold text-lg text-slate-800">5. GitHub Pages 활성화</h3>
                    <p class="mt-1 ml-2">게시가 완료되면 GitHub 사이트에서 방금 생성한 저장소로 이동합니다. 'Settings' &rarr; 'Pages' 탭으로 이동하여 'Source'를 'Deploy from a branch'로, 브랜치를 'main' (또는 'master')으로 선택하고 'Save'를 클릭합니다.</p>
                </div>

                <div>
                    <h3 class="font-semibold text-lg text-slate-800">6. 배포 확인 및 공유</h3>
                    <p class="mt-1 ml-2">잠시 후 페이지 상단에 녹색으로 게시 주소(<code class="text-sm">https://&lt;사용자명&gt;.github.io/&lt;저장소명&gt;/</code>)가 나타납니다. 이 주소로 접속하여 게임을 확인하고 전 세계와 공유하세요!</p>
                </div>
            </div>
        </section>

        <section id="step10" class="step bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-slate-200 mb-10">
            <h2 class="text-2xl font-bold mb-4 border-b pb-3 text-slate-900">마치며</h2>
            <p class="mb-6 text-slate-700">축하합니다! 이 가이드를 통해 아이디어 구체화, 파이썬 AI 개발, 그리고 최종 웹 배포까지의 전 과정을 완료하셨습니다.</p>
            <h3 class="font-semibold text-lg text-slate-800 mb-2">이제 여러분의 차례입니다:</h3>
            <ul class="list-disc list-inside space-y-2 text-slate-700">
                <li><strong>게임 아이디어 확장:</strong> 새로운 규칙이나 장애물을 추가하여 게임을 발전시켜 보세요.</li>
                <li><strong>보상 함수 실험:</strong> 다른 보상 체계를 설계하여 AI의 행동 패턴 변화를 관찰해보세요.</li>
                <li><strong>모델 아키텍처 변경:</strong> SB3에서 다른 알고리즘(예: DQN)을 사용해보세요.</li>
            </ul>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyButtons = document.querySelectorAll('.copy-button');
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const codeBlock = button.nextElementSibling.querySelector('code');
                    const codeText = codeBlock.innerText;
                    navigator.clipboard.writeText(codeText).then(() => {
                        button.textContent = '복사 완료!';
                        button.classList.add('copied');
                        setTimeout(() => {
                            button.textContent = '복사';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(err => console.error('Copy failed', err));
                });
            });

            const modal = document.getElementById('theme-modal');
            const openModalBtn = document.getElementById('open-modal-btn');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const themeGrid = document.getElementById('theme-grid');
            const step1PromptCodeElement = document.getElementById('step1-prompt-code');

            async function loadThemes() {
                try {
                    const response = await fetch('themes.json');
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const themes = await response.json();

                    themeGrid.innerHTML = '';
                    themes.sort((a, b) => a.title.localeCompare(b.title, 'ko')).forEach(theme => {
                        const card = document.createElement('div');
                        card.className = 'modal-card bg-slate-50 p-4 rounded-lg cursor-pointer border hover:border-amber-500 hover:bg-amber-50';
                        card.innerHTML = `<div class="text-3xl mb-2">${theme.emoji}</div><h3 class="font-bold text-slate-800">${theme.title}</h3><p class="text-sm text-slate-600 mt-1">${theme.description}</p>`;
                        card.addEventListener('click', () => {
                            const basePrompt = `You are a creative game designer. Based on the theme "[THEME_PLACEHOLDER]", please develop a detailed and engaging game plan.\n\nThe plan must be structured with the following four sections:\n\n1.  **Game Concept:** A brief, exciting one-paragraph summary of the game.\n2.  **Player Objective:** A clear description of what the player needs to accomplish.\n3.  **Controls:** A simple and intuitive control scheme.\n4.  **Win/Loss Conditions:** Specific, measurable conditions for success and failure.\n\nWrite the plan in Korean.`;
                            const promptToCopy = basePrompt.replace('[THEME_PLACEHOLDER]', `"${theme.rl_concept}"`);
                            
                            step1PromptCodeElement.textContent = basePrompt.replace(`[여기에 선택한 게임 주제와 간단한 설명을 입력하세요. 예: 로켓 착륙시키기: 좌우 및 메인 추력을 사용해, 화면 상단에서 떨어지는 로켓이 정해진 착륙 지점에 부드럽게 착륙하는 게임]`, `[${theme.rl_concept}]`);

                            navigator.clipboard.writeText(promptToCopy).then(() => {
                                alert(`'${theme.title}' 주제의 상세 프롬프트가 클립보드에 복사되었습니다. Gemini에게 바로 붙여넣어 사용하세요!`);
                            }).catch(err => console.error('Failed to copy: ', err));
                            modal.classList.add('hidden');
                        });
                        themeGrid.appendChild(card);
                    });
                } catch (error) {
                    console.error("Could not load themes:", error);
                    if (themeGrid) themeGrid.innerHTML = '<p class="text-red-500">테마를 불러오는 데 실패했습니다. themes.json 파일이 올바른 위치에 있는지 확인하세요.</p>';
                }
            }

            openModalBtn.addEventListener('click', () => modal.classList.remove('hidden'));
            closeModalBtn.addEventListener('click', () => modal.classList.add('hidden'));
            modal.addEventListener('click', (e) => { if (e.target.id === 'theme-modal') modal.classList.add('hidden'); });

            const gameLogicTextarea = document.getElementById('game-logic-textarea');
            const step2PromptCodeElement = document.getElementById('step2-prompt-code');
            const baseStep2Prompt = step2PromptCodeElement.innerText;

            gameLogicTextarea.addEventListener('input', () => {
                const userInput = gameLogicTextarea.value;
                step2PromptCodeElement.innerText = userInput.trim() !== '' ? baseStep2Prompt.replace("[여기에 위 '게임 로직 기획' 입력란의 내용을 붙여넣으세요.]", userInput) : baseStep2Prompt;
            });
            
            loadThemes();
        });
    </script>
</body>
</html>